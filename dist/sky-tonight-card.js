function t(t,e,n,s){var r,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=globalThis,n=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),r=new WeakMap;let i=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&r.set(e,t))}return t}toString(){return this.cssText}};const o=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1]),t[0]);return new i(n,t,s)},a=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new i("string"==typeof t?t:t+"",void 0,s))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:u,defineProperty:l,getOwnPropertyDescriptor:c,getOwnPropertyNames:h,getOwnPropertySymbols:d,getPrototypeOf:f}=Object,m=globalThis,y=m.trustedTypes,p=y?y.emptyScript:"",g=m.reactiveElementPolyfillSupport,w=(t,e)=>t,v={toAttribute(t,e){switch(e){case Boolean:t=t?p:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},S=(t,e)=>!u(t,e),b={attribute:!0,type:String,converter:v,reflect:!1,useDefault:!1,hasChanged:S};Symbol.metadata??=Symbol("metadata"),m.litPropertyMetadata??=new WeakMap;let M=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=b){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(t,n,e);void 0!==s&&l(this.prototype,t,s)}}static getPropertyDescriptor(t,e,n){const{get:s,set:r}=c(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:s,set(e){const i=s?.call(this);r?.call(this,e),this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(w("elementProperties")))return;const t=f(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(w("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(w("properties"))){const t=this.properties,e=[...h(t),...d(t)];for(const n of e)this.createProperty(n,t[n])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,n]of e)this.elementProperties.set(t,n)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const n=this._$Eu(t,e);void 0!==n&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Eu(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,s)=>{if(n)t.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const n of s){const s=document.createElement("style"),r=e.litNonce;void 0!==r&&s.setAttribute("nonce",r),s.textContent=n.cssText,t.appendChild(s)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,n);if(void 0!==s&&!0===n.reflect){const r=(void 0!==n.converter?.toAttribute?n.converter:v).toAttribute(e,n.type);this._$Em=t,null==r?this.removeAttribute(s):this.setAttribute(s,r),this._$Em=null}}_$AK(t,e){const n=this.constructor,s=n._$Eh.get(t);if(void 0!==s&&this._$Em!==s){const t=n.getPropertyOptions(s),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:v;this._$Em=s,this[s]=r.fromAttribute(e,t.type)??this._$Ej?.get(s)??null,this._$Em=null}}requestUpdate(t,e,n){if(void 0!==t){const s=this.constructor,r=this[t];if(n??=s.getPropertyOptions(t),!((n.hasChanged??S)(r,e)||n.useDefault&&n.reflect&&r===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,n))))return;this.C(t,e,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:s,wrapped:r},i){n&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,i??e??this[t]),!0!==r||void 0!==i)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),!0===s&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,n]of t){const{wrapped:t}=n,s=this[e];!0!==t||this._$AL.has(e)||void 0===s||this.C(e,void 0,n,s)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}};M.elementStyles=[],M.shadowRootOptions={mode:"open"},M[w("elementProperties")]=new Map,M[w("finalized")]=new Map,g?.({ReactiveElement:M}),(m.reactiveElementVersions??=[]).push("2.1.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const $=globalThis,k=$.trustedTypes,x=k?k.createPolicy("lit-html",{createHTML:t=>t}):void 0,_="$lit$",T=`lit$${Math.random().toFixed(9).slice(2)}$`,N="?"+T,O=`<${N}>`,E=document,D=()=>E.createComment(""),A=t=>null===t||"object"!=typeof t&&"function"!=typeof t,C=Array.isArray,I="[ \t\n\f\r]",z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,V=/-->/g,F=/>/g,L=RegExp(`>|${I}(?:([^\\s"'>=/]+)(${I}*=${I}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),P=/'/g,U=/"/g,W=/^(?:script|style|textarea|title)$/i,Z=(t=>(e,...n)=>({_$litType$:t,strings:e,values:n}))(1),j=Symbol.for("lit-noChange"),H=Symbol.for("lit-nothing"),q=new WeakMap,R=E.createTreeWalker(E,129);function J(t,e){if(!C(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==x?x.createHTML(e):e}const B=(t,e)=>{const n=t.length-1,s=[];let r,i=2===e?"<svg>":3===e?"<math>":"",o=z;for(let e=0;e<n;e++){const n=t[e];let a,u,l=-1,c=0;for(;c<n.length&&(o.lastIndex=c,u=o.exec(n),null!==u);)c=o.lastIndex,o===z?"!--"===u[1]?o=V:void 0!==u[1]?o=F:void 0!==u[2]?(W.test(u[2])&&(r=RegExp("</"+u[2],"g")),o=L):void 0!==u[3]&&(o=L):o===L?">"===u[0]?(o=r??z,l=-1):void 0===u[1]?l=-2:(l=o.lastIndex-u[2].length,a=u[1],o=void 0===u[3]?L:'"'===u[3]?U:P):o===U||o===P?o=L:o===V||o===F?o=z:(o=L,r=void 0);const h=o===L&&t[e+1].startsWith("/>")?" ":"";i+=o===z?n+O:l>=0?(s.push(a),n.slice(0,l)+_+n.slice(l)+T+h):n+T+(-2===l?e:h)}return[J(t,i+(t[n]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),s]};class Y{constructor({strings:t,_$litType$:e},n){let s;this.parts=[];let r=0,i=0;const o=t.length-1,a=this.parts,[u,l]=B(t,e);if(this.el=Y.createElement(u,n),R.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(s=R.nextNode())&&a.length<o;){if(1===s.nodeType){if(s.hasAttributes())for(const t of s.getAttributeNames())if(t.endsWith(_)){const e=l[i++],n=s.getAttribute(t).split(T),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:r,name:o[2],strings:n,ctor:"."===o[1]?tt:"?"===o[1]?et:"@"===o[1]?nt:X}),s.removeAttribute(t)}else t.startsWith(T)&&(a.push({type:6,index:r}),s.removeAttribute(t));if(W.test(s.tagName)){const t=s.textContent.split(T),e=t.length-1;if(e>0){s.textContent=k?k.emptyScript:"";for(let n=0;n<e;n++)s.append(t[n],D()),R.nextNode(),a.push({type:2,index:++r});s.append(t[e],D())}}}else if(8===s.nodeType)if(s.data===N)a.push({type:2,index:r});else{let t=-1;for(;-1!==(t=s.data.indexOf(T,t+1));)a.push({type:7,index:r}),t+=T.length-1}r++}}static createElement(t,e){const n=E.createElement("template");return n.innerHTML=t,n}}function G(t,e,n=t,s){if(e===j)return e;let r=void 0!==s?n._$Co?.[s]:n._$Cl;const i=A(e)?void 0:e._$litDirective$;return r?.constructor!==i&&(r?._$AO?.(!1),void 0===i?r=void 0:(r=new i(t),r._$AT(t,n,s)),void 0!==s?(n._$Co??=[])[s]=r:n._$Cl=r),void 0!==r&&(e=G(t,r._$AS(t,e.values),r,s)),e}class Q{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,s=(t?.creationScope??E).importNode(e,!0);R.currentNode=s;let r=R.nextNode(),i=0,o=0,a=n[0];for(;void 0!==a;){if(i===a.index){let e;2===a.type?e=new K(r,r.nextSibling,this,t):1===a.type?e=new a.ctor(r,a.name,a.strings,this,t):6===a.type&&(e=new st(r,this,t)),this._$AV.push(e),a=n[++o]}i!==a?.index&&(r=R.nextNode(),i++)}return R.currentNode=E,s}p(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class K{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,s){this.type=2,this._$AH=H,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=G(this,t,e),A(t)?t===H||null==t||""===t?(this._$AH!==H&&this._$AR(),this._$AH=H):t!==this._$AH&&t!==j&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>C(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==H&&A(this._$AH)?this._$AA.nextSibling.data=t:this.T(E.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:n}=t,s="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=Y.createElement(J(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new Q(s,this),n=t.u(this.options);t.p(e),this.T(n),this._$AH=t}}_$AC(t){let e=q.get(t.strings);return void 0===e&&q.set(t.strings,e=new Y(t)),e}k(t){C(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,s=0;for(const r of t)s===e.length?e.push(n=new K(this.O(D()),this.O(D()),this,this.options)):n=e[s],n._$AI(r),s++;s<e.length&&(this._$AR(n&&n._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class X{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,s,r){this.type=1,this._$AH=H,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=H}_$AI(t,e=this,n,s){const r=this.strings;let i=!1;if(void 0===r)t=G(this,t,e,0),i=!A(t)||t!==this._$AH&&t!==j,i&&(this._$AH=t);else{const s=t;let o,a;for(t=r[0],o=0;o<r.length-1;o++)a=G(this,s[n+o],e,o),a===j&&(a=this._$AH[o]),i||=!A(a)||a!==this._$AH[o],a===H?t=H:t!==H&&(t+=(a??"")+r[o+1]),this._$AH[o]=a}i&&!s&&this.j(t)}j(t){t===H?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class tt extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===H?void 0:t}}class et extends X{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==H)}}class nt extends X{constructor(t,e,n,s,r){super(t,e,n,s,r),this.type=5}_$AI(t,e=this){if((t=G(this,t,e,0)??H)===j)return;const n=this._$AH,s=t===H&&n!==H||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,r=t!==H&&(n===H||s);s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class st{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){G(this,t)}}const rt=$.litHtmlPolyfillSupport;rt?.(Y,K),($.litHtmlVersions??=[]).push("3.3.0");const it=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ot extends M{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,n)=>{const s=n?.renderBefore??e;let r=s._$litPart$;if(void 0===r){const t=n?.renderBefore??null;s._$litPart$=r=new K(e.insertBefore(D(),t),t,void 0,n??{})}return r._$AI(t),r})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return j}}ot._$litElement$=!0,ot.finalized=!0,it.litElementHydrateSupport?.({LitElement:ot});const at=it.litElementPolyfillSupport;at?.({LitElement:ot}),(it.litElementVersions??=[]).push("4.2.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ut=t=>(e,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,lt={attribute:!0,type:String,converter:v,reflect:!1,hasChanged:S},ct=(t=lt,e,n)=>{const{kind:s,metadata:r}=n;let i=globalThis.litPropertyMetadata.get(r);if(void 0===i&&globalThis.litPropertyMetadata.set(r,i=new Map),"setter"===s&&((t=Object.create(t)).wrapped=!0),i.set(n.name,t),"accessor"===s){const{name:s}=n;return{set(n){const r=e.get.call(this);e.set.call(this,n),this.requestUpdate(s,r,t)},init(e){return void 0!==e&&this.C(s,void 0,t,e),e}}}if("setter"===s){const{name:s}=n;return function(n){const r=this[s];e.call(this,n),this.requestUpdate(s,r,t)}}throw Error("Unsupported decorator location: "+s)};function ht(t){return(e,n)=>"object"==typeof n?ct(t,e,n):((t,e,n)=>{const s=e.hasOwnProperty(n);return e.constructor.createProperty(n,t),s?Object.getOwnPropertyDescriptor(e,n):void 0})(t,e,n)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}
/**
    @preserve

    Astronomy library for JavaScript (browser and Node.js).
    https://github.com/cosinekitty/astronomy

    MIT License

    Copyright (c) 2019-2023 Don Cross <cosinekitty@gmail.com>

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
*/
/**
 * @fileoverview Astronomy calculation library for browser scripting and Node.js.
 * @author Don Cross <cosinekitty@gmail.com>
 * @license MIT
 */
const dt=173.1446326846693,ft=149597870.69098932,mt=.017453292519943295,yt=.26179938779914946,pt=57.29577951308232,gt=3.819718634205488,wt=new Date("2000-01-01T12:00:00Z"),vt=2*Math.PI,St=180/Math.PI*3600,bt=484813681109536e-20,Mt=7292115e-11,$t=695700/ft,kt=.996647180302104,xt=6378.1366,_t=1738.1/ft,Tt=34/60,Nt=.0002959122082855911,Ot=2.825345909524226e-7,Et=8.459715185680659e-8,Dt=1.292024916781969e-8,At=1.524358900784276e-8;function Ct(t){if(!0!==t&&!1!==t)throw console.trace(),`Value is not boolean: ${t}`;return t}function It(t){if(!Number.isFinite(t))throw console.trace(),`Value is not a finite number: ${t}`;return t}function zt(t){return t-Math.floor(t)}var Vt;!function(t){t.Sun="Sun",t.Moon="Moon",t.Mercury="Mercury",t.Venus="Venus",t.Earth="Earth",t.Mars="Mars",t.Jupiter="Jupiter",t.Saturn="Saturn",t.Uranus="Uranus",t.Neptune="Neptune",t.Pluto="Pluto",t.SSB="SSB",t.EMB="EMB",t.Star1="Star1",t.Star2="Star2",t.Star3="Star3",t.Star4="Star4",t.Star5="Star5",t.Star6="Star6",t.Star7="Star7",t.Star8="Star8"}(Vt||(Vt={}));const Ft=[Vt.Star1,Vt.Star2,Vt.Star3,Vt.Star4,Vt.Star5,Vt.Star6,Vt.Star7,Vt.Star8],Lt=[{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0}];function Pt(t){const e=function(t){const e=Ft.indexOf(t);return e>=0?Lt[e]:null}(t);return e&&e.dist>0?e:null}var Ut;!function(t){t[t.From2000=0]="From2000",t[t.Into2000=1]="Into2000"}(Ut||(Ut={}));const Wt={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[8.5831e-7,1.27079125277,161000.6857376741],[5.7056e-7,2.01374292245,83996.84731811189],[5.5736e-7,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};let Zt=function(t){var e,n,s,r;const i=2e3+(t-14)/365.24217;return i<-500?32*(e=(i-1820)/100)*e-20:i<500?10583.6-1014.41*(e=i/100)+33.78311*(n=e*e)-5.952053*(s=e*n)-.1798452*(r=n*n)+.022174192*(n*s)+.0090316521*(s*s):i<1600?1574.2-556.01*(e=(i-1e3)/100)+71.23472*(n=e*e)+.319781*(s=e*n)-.8503463*(r=n*n)-.005050998*(n*s)+.0083572073*(s*s):i<1700?120-.9808*(e=i-1600)-.01532*(n=e*e)+(s=e*n)/7129:i<1800?8.83+.1603*(e=i-1700)-.0059285*(n=e*e)+13336e-8*(s=e*n)-(r=n*n)/1174e3:i<1860?13.72-.332447*(e=i-1800)+.0068612*(n=e*e)+.0041116*(s=e*n)-37436e-8*(r=n*n)+121272e-10*(n*s)-1.699e-7*(s*s)+8.75e-10*(s*r):i<1900?7.62+.5737*(e=i-1860)-.251754*(n=e*e)+.01680668*(s=e*n)-.0004473624*(r=n*n)+n*s/233174:i<1920?1.494119*(e=i-1900)-2.79-.0598939*(n=e*e)+.0061966*(s=e*n)-197e-6*(r=n*n):i<1941?21.2+.84493*(e=i-1920)-.0761*(n=e*e)+.0020936*(s=e*n):i<1961?29.07+.407*(e=i-1950)-(n=e*e)/233+(s=e*n)/2547:i<1986?45.45+1.067*(e=i-1975)-(n=e*e)/260-(s=e*n)/718:i<2005?63.86+.3345*(e=i-2e3)-.060374*(n=e*e)+.0017275*(s=e*n)+651814e-9*(r=n*n)+2373599e-11*(n*s):i<2050?62.92+.32217*(e=i-2e3)+.005589*e*e:i<2150?32*(e=(i-1820)/100)*e-20-.5628*(2150-i):32*(e=(i-1820)/100)*e-20};function jt(t){return t+Zt(t)/86400}class Ht{constructor(t){if(t instanceof Ht)return this.date=t.date,this.ut=t.ut,void(this.tt=t.tt);const e=864e5;if(t instanceof Date&&Number.isFinite(t.getTime()))return this.date=t,this.ut=(t.getTime()-wt.getTime())/e,void(this.tt=jt(this.ut));if(Number.isFinite(t))return this.date=new Date(wt.getTime()+t*e),this.ut=t,void(this.tt=jt(this.ut));throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(t){let e=new Ht(t);for(;;){const n=t-e.tt;if(Math.abs(n)<1e-12)return e;e=e.AddDays(n)}}toString(){return this.date.toISOString()}AddDays(t){return new Ht(this.ut+t)}}function qt(t){return t instanceof Ht?t:new Ht(t)}function Rt(t){var e=t.tt/36525;return(((((-4.34e-8*e-576e-9)*e+.0020034)*e-1831e-7)*e-46.836769)*e+84381.406)/3600}var Jt;function Bt(t){if(!Jt||Math.abs(Jt.tt-t.tt)>1e-6){const e=function(t){function e(t){return t%1296e3*bt}const n=t.tt/36525,s=e(1287104.79305+129596581.0481*n),r=e(335779.526232+1739527262.8478*n),i=e(1072260.70369+1602961601.209*n),o=e(450160.398036-6962890.5431*n);let a=Math.sin(o),u=Math.cos(o),l=(-172064161-174666*n)*a+33386*u,c=(92052331+9086*n)*u+15377*a,h=2*(r-i+o);return a=Math.sin(h),u=Math.cos(h),l+=(-13170906-1675*n)*a-13696*u,c+=(5730336-3015*n)*u-4587*a,h=2*(r+o),a=Math.sin(h),u=Math.cos(h),l+=(-2276413-234*n)*a+2796*u,c+=(978459-485*n)*u+1374*a,h=2*o,a=Math.sin(h),u=Math.cos(h),l+=(2074554+207*n)*a-698*u,c+=(470*n-897492)*u-291*a,a=Math.sin(s),u=Math.cos(s),l+=(1475877-3633*n)*a+11817*u,c+=(73871-184*n)*u-1924*a,{dpsi:1e-7*l-135e-6,deps:388e-6+1e-7*c}}(t),n=Rt(t),s=n+e.deps/3600;Jt={tt:t.tt,dpsi:e.dpsi,deps:e.deps,ee:e.dpsi*Math.cos(n*mt)/15,mobl:n,tobl:s}}return Jt}function Yt(t,e){return function(t,e){const n=t*mt,s=Math.cos(n),r=Math.sin(n);return[e[0],e[1]*s-e[2]*r,e[1]*r+e[2]*s]}(Rt(t),e)}function Gt(t,e){return[t.rot[0][0]*e[0]+t.rot[1][0]*e[1]+t.rot[2][0]*e[2],t.rot[0][1]*e[0]+t.rot[1][1]*e[1]+t.rot[2][1]*e[2],t.rot[0][2]*e[0]+t.rot[1][2]*e[1]+t.rot[2][2]*e[2]]}function Qt(t,e,n){const s=function(t,e){const n=t.tt/36525;let s=84381.406,r=((((-9.51e-8*n+132851e-9)*n-.00114045)*n-1.0790069)*n+5038.481507)*n,i=((((3.337e-7*n-467e-9)*n-.00772503)*n+.0512623)*n-.025754)*n+s,o=((((-56e-9*n+170663e-9)*n-.00121197)*n-2.3814292)*n+10.556403)*n;s*=bt,r*=bt,i*=bt,o*=bt;const a=Math.sin(s),u=Math.cos(s),l=Math.sin(-r),c=Math.cos(-r),h=Math.sin(-i),d=Math.cos(-i),f=Math.sin(o),m=Math.cos(o),y=m*c-l*f*d,p=m*l*u+f*d*c*u-a*f*h,g=m*l*a+f*d*c*a+u*f*h,w=-f*c-l*m*d,v=-f*l*u+m*d*c*u-a*m*h,S=-f*l*a+m*d*c*a+u*m*h,b=l*h,M=-h*c*u-a*d,$=-h*c*a+d*u;if(e===Ut.Into2000)return new ae([[y,p,g],[w,v,S],[b,M,$]]);if(e===Ut.From2000)return new ae([[y,w,b],[p,v,M],[g,S,$]]);throw"Invalid precess direction"}(e,n);return Gt(s,t)}let Kt;function Xt(t){if(!Kt||Kt.tt!==t.tt){const e=t.tt/36525;let n=15*Bt(t).ee;const s=function(t){let e=(.779057273264+.00273781191135448*t.ut+t.ut%1)%1*360;return e<0&&(e+=360),e}(t);let r=((n+.014506+((((-3.68e-8*e-29956e-9)*e-44e-8)*e+1.3915817)*e+4612.156534)*e)/3600+s)%360/15;r<0&&(r+=24),Kt={tt:t.tt,st:r}}return Kt.st}function te(t,e,n){const s=function(t,e){const n=Bt(t),s=n.mobl*mt,r=n.tobl*mt,i=n.dpsi*bt,o=Math.cos(s),a=Math.sin(s),u=Math.cos(r),l=Math.sin(r),c=Math.cos(i),h=Math.sin(i),d=c,f=-h*o,m=-h*a,y=h*u,p=c*o*u+a*l,g=c*a*u-o*l,w=h*l,v=c*o*l-a*u,S=c*a*l+o*u;if(e===Ut.From2000)return new ae([[d,y,w],[f,p,v],[m,g,S]]);if(e===Ut.Into2000)return new ae([[d,f,m],[y,p,g],[w,v,S]]);throw"Invalid precess direction"}(e,n);return Gt(s,t)}function ee(t,e,n){return n===Ut.Into2000?Qt(te(t,e,n),e,n):te(Qt(t,e,n),e,n)}function ne(t,e){const n=function(t,e){const n=t.latitude*mt,s=Math.sin(n),r=Math.cos(n),i=1/Math.hypot(r,kt*s),o=.9933056020041345*i,a=t.height/1e3,u=xt*i+a,l=xt*o+a,c=(15*e+t.longitude)*mt,h=Math.sin(c),d=Math.cos(c);return{pos:[u*r*d/ft,u*r*h/ft,l*s/ft],vel:[-Mt*u*r*h*86400/ft,Mt*u*r*d*86400/ft,0]}}(e,Xt(t)).pos;return ee(n,t,Ut.Into2000)}class se{constructor(t,e,n,s){this.x=t,this.y=e,this.z=n,this.t=s}Length(){return Math.hypot(this.x,this.y,this.z)}}class re{constructor(t,e,n,s,r,i,o){this.x=t,this.y=e,this.z=n,this.vx=s,this.vy=r,this.vz=i,this.t=o}}class ie{constructor(t,e,n){this.lat=It(t),this.lon=It(e),this.dist=It(n)}}class oe{constructor(t,e,n,s){this.ra=It(t),this.dec=It(e),this.dist=It(n),this.vec=s}}class ae{constructor(t){this.rot=t}}class ue{constructor(t,e,n,s){this.azimuth=It(t),this.altitude=It(e),this.ra=It(n),this.dec=It(s)}}class le{constructor(t,e,n){this.vec=t,this.elat=It(e),this.elon=It(n)}}function ce(t,e){const n=function(t,e){return new se(t[0],t[1],t[2],e)}(t,e),s=n.x*n.x+n.y*n.y,r=Math.sqrt(s+n.z*n.z);if(0===s){if(0===n.z)throw"Indeterminate sky coordinates";return new oe(0,n.z<0?-90:90,r,n)}let i=gt*Math.atan2(n.y,n.x);i<0&&(i+=24);const o=pt*Math.atan2(t[2],Math.sqrt(s));return new oe(i,o,r,n)}function he(t,e){const n=t*mt,s=Math.cos(n),r=Math.sin(n);return[s*e[0]+r*e[1],s*e[1]-r*e[0],e[2]]}function de(t,e,n,s,r){let i=qt(t);fe(e),It(n),It(s);const o=Math.sin(e.latitude*mt),a=Math.cos(e.latitude*mt),u=Math.sin(e.longitude*mt),l=Math.cos(e.longitude*mt),c=Math.sin(s*mt),h=Math.cos(s*mt),d=Math.sin(n*yt),f=Math.cos(n*yt);let m=[a*l,a*u,o],y=[-o*l,-o*u,a],p=[u,-l,0];const g=-15*Xt(i);let w=he(g,m),v=he(g,y),S=he(g,p),b=[h*f,h*d,c];const M=b[0]*w[0]+b[1]*w[1]+b[2]*w[2],$=b[0]*v[0]+b[1]*v[1]+b[2]*v[2],k=b[0]*S[0]+b[1]*S[1]+b[2]*S[2];let x,_=Math.hypot($,k);_>0?(x=-pt*Math.atan2(k,$),x<0&&(x+=360)):x=0;let T=pt*Math.atan2(_,M),N=n,O=s;if(r){let t=T,e=function(t,e){let n;if(It(e),e<-90||e>90)return 0;if("normal"===t||"jplhor"===t){let s=e;s<-1&&(s=-1),n=1.02/Math.tan((s+10.3/(s+5.11))*mt)/60,"normal"===t&&e<-1&&(n*=(e+90)/89)}else{if(t)throw`Invalid refraction option: ${t}`;n=0}return n}(r,90-T);if(T-=e,e>0&&T>3e-4){const e=Math.sin(T*mt),n=Math.cos(T*mt),s=Math.sin(t*mt),r=Math.cos(t*mt),i=[];for(let t=0;t<3;++t)i.push((b[t]-r*w[t])/s*e+w[t]*n);_=Math.hypot(i[0],i[1]),_>0?(N=gt*Math.atan2(i[1],i[0]),N<0&&(N+=24)):N=0,O=pt*Math.atan2(i[2],_)}}return new ue(x,90-T,N,O)}function fe(t){if(!(t instanceof me))throw`Not an instance of the Observer class: ${t}`;if(It(t.latitude),It(t.longitude),It(t.height),t.latitude<-90||t.latitude>90)throw`Latitude ${t.latitude} is out of range. Must be -90..+90.`;return t}class me{constructor(t,e,n){this.latitude=t,this.longitude=e,this.height=n,fe(this)}}function ye(t,e,n,s,r){fe(n),Ct(s),Ct(r);const i=qt(e),o=ne(i,n),a=Xe(t,i,r),u=[a.x-o[0],a.y-o[1],a.z-o[2]];if(!s)return ce(u,i);return ce(ee(u,i,Ut.From2000),i)}function pe(t){const e=Bt(t.t),n=Qt([t.x,t.y,t.z],t.t,Ut.From2000),[s,r,i]=te(n,t.t,Ut.From2000),o=new se(s,r,i,t.t),a=e.tobl*mt;return function(t,e,n){const s=t.x,r=t.y*e+t.z*n,i=-t.y*n+t.z*e,o=Math.hypot(s,r);let a=0;o>0&&(a=pt*Math.atan2(r,s),a<0&&(a+=360));let u=pt*Math.atan2(i,o),l=new se(s,r,i,t.t);return new le(l,u,a)}(o,Math.cos(a),Math.sin(a))}function ge(t){const e=qt(t),n=function(t){const e=t.tt/36525;function n(t,e){const n=[];let s;for(s=0;s<=e-t;++s)n.push(0);return{min:t,array:n}}function s(t,e,s,r){const i=[];for(let o=0;o<=e-t;++o)i.push(n(s,r));return{min:t,array:i}}function r(t,e,n){const s=t.array[e-t.min];return s.array[n-s.min]}function i(t,e,n,s){const r=t.array[e-t.min];r.array[n-r.min]=s}let o,a,u,l,c,h,d,f,m,y,p,g,w,v,S,b,M,$,k,x,_,T,N,O=s(-6,6,1,4),E=s(-6,6,1,4);function D(t,e){return r(O,t,e)}function A(t,e){return r(E,t,e)}function C(t,e,n){return i(O,t,e,n)}function I(t,e,n){return i(E,t,e,n)}function z(t,e,n,s,r){r(t*n-e*s,e*n+t*s)}function V(t){return Math.sin(vt*t)}d=e*e,m=0,N=0,p=0,g=3422.7;var F=V(.19833+.05611*e),L=V(.27869+.04508*e),P=V(.16827-.36903*e),U=V(.34734-5.37261*e),W=V(.10498-5.37899*e),Z=V(.42681-.41855*e);for($=.84*F+.31*L+14.27*P+7.26*U+.28*W+.24*Z,k=2.94*F+.31*L+14.27*P+9.34*U+1.12*W+.83*Z,x=-6.4*F-1.89*Z,_=.21*F+.31*L+14.27*P-88.7*U-15.3*W+.24*Z-1.86*V(.14943-5.37511*e),T=$-x,f=-3332e-9*V(.59734-5.37261*e)-539e-9*V(.35498-5.37899*e)-64e-9*V(.39943-5.37511*e),w=vt*zt(.60643382+1336.85522467*e-313e-8*d)+$/St,v=vt*zt(.37489701+1325.55240982*e+2565e-8*d)+k/St,S=vt*zt(.99312619+99.99735956*e-44e-8*d)+x/St,b=vt*zt(.25909118+1342.2278298*e-892e-8*d)+_/St,M=vt*zt(.82736186+1236.85308708*e-397e-8*d)+T/St,c=1;c<=4;++c){switch(c){case 1:u=v,a=4,l=1.000002208;break;case 2:u=S,a=3,l=.997504612-.002495388*e;break;case 3:u=b,a=4,l=1.000002708+139.978*f;break;case 4:u=M,a=6,l=1;break;default:throw`Internal error: I = ${c}`}for(C(0,c,1),C(1,c,Math.cos(u)*l),I(0,c,0),I(1,c,Math.sin(u)*l),h=2;h<=a;++h)z(D(h-1,c),A(h-1,c),D(1,c),A(1,c),((t,e)=>(C(h,c,t),I(h,c,e))));for(h=1;h<=a;++h)C(-h,c,D(h,c)),I(-h,c,-A(h,c))}function j(t,e,n,s){for(var r={x:1,y:0},i=[0,t,e,n,s],o=1;o<=4;++o)0!==i[o]&&z(r.x,r.y,D(i[o],o),A(i[o],o),((t,e)=>(r.x=t,r.y=e)));return r}function H(t,e,n,s,r,i,o,a){var u=j(r,i,o,a);m+=t*u.y,N+=e*u.y,p+=n*u.x,g+=s*u.x}function q(t,e,n,s,r){return t*j(e,n,s,r).y}H(13.902,14.06,-.001,.2607,0,0,0,4),H(.403,-4.01,.394,.0023,0,0,0,3),H(2369.912,2373.36,.601,28.2333,0,0,0,2),H(-125.154,-112.79,-.725,-.9781,0,0,0,1),H(1.979,6.98,-.445,.0433,1,0,0,4),H(191.953,192.72,.029,3.0861,1,0,0,2),H(-8.466,-13.51,.455,-.1093,1,0,0,1),H(22639.5,22609.07,.079,186.5398,1,0,0,0),H(18.609,3.59,-.094,.0118,1,0,0,-1),H(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),H(3.215,5.44,.192,-.0386,1,0,0,-3),H(-38.428,-38.64,.001,.6008,1,0,0,-4),H(-.393,-1.43,-.092,.0086,1,0,0,-6),H(-.289,-1.59,.123,-.0053,0,1,0,4),H(-24.42,-25.1,.04,-.3,0,1,0,2),H(18.023,17.93,.007,.1494,0,1,0,1),H(-668.146,-126.98,-1.302,-.3997,0,1,0,0),H(.56,.32,-.001,-.0037,0,1,0,-1),H(-165.145,-165.06,.054,1.9178,0,1,0,-2),H(-1.877,-6.46,-.416,.0339,0,1,0,-4),H(.213,1.02,-.074,.0054,2,0,0,4),H(14.387,14.78,-.017,.2833,2,0,0,2),H(-.586,-1.2,.054,-.01,2,0,0,1),H(769.016,767.96,.107,10.1657,2,0,0,0),H(1.75,2.01,-.018,.0155,2,0,0,-1),H(-211.656,-152.53,5.679,-.3039,2,0,0,-2),H(1.225,.91,-.03,-.0088,2,0,0,-3),H(-30.773,-34.07,-.308,.3722,2,0,0,-4),H(-.57,-1.4,-.074,.0109,2,0,0,-6),H(-2.921,-11.75,.787,-.0484,1,1,0,2),H(1.267,1.52,-.022,.0164,1,1,0,1),H(-109.673,-115.18,.461,-.949,1,1,0,0),H(-205.962,-182.36,2.056,1.4437,1,1,0,-2),H(.233,.36,.012,-.0025,1,1,0,-3),H(-4.391,-9.66,-.471,.0673,1,1,0,-4),H(.283,1.53,-.111,.006,1,-1,0,4),H(14.577,31.7,-1.54,.2302,1,-1,0,2),H(147.687,138.76,.679,1.1528,1,-1,0,0),H(-1.089,.55,.021,0,1,-1,0,-1),H(28.475,23.59,-.443,-.2257,1,-1,0,-2),H(-.276,-.38,-.006,-.0036,1,-1,0,-3),H(.636,2.27,.146,-.0102,1,-1,0,-4),H(-.189,-1.68,.131,-.0028,0,2,0,2),H(-7.486,-.66,-.037,-.0086,0,2,0,0),H(-8.096,-16.35,-.74,.0918,0,2,0,-2),H(-5.741,-.04,0,-9e-4,0,0,2,2),H(.255,0,0,0,0,0,2,1),H(-411.608,-.2,0,-.0124,0,0,2,0),H(.584,.84,0,.0071,0,0,2,-1),H(-55.173,-52.14,0,-.1052,0,0,2,-2),H(.254,.25,0,-.0017,0,0,2,-3),H(.025,-1.67,0,.0031,0,0,2,-4),H(1.06,2.96,-.166,.0243,3,0,0,2),H(36.124,50.64,-1.3,.6215,3,0,0,0),H(-13.193,-16.4,.258,-.1187,3,0,0,-2),H(-1.187,-.74,.042,.0074,3,0,0,-4),H(-.293,-.31,-.002,.0046,3,0,0,-6),H(-.29,-1.45,.116,-.0051,2,1,0,2),H(-7.649,-10.56,.259,-.1038,2,1,0,0),H(-8.627,-7.59,.078,-.0192,2,1,0,-2),H(-2.74,-2.54,.022,.0324,2,1,0,-4),H(1.181,3.32,-.212,.0213,2,-1,0,2),H(9.703,11.67,-.151,.1268,2,-1,0,0),H(-.352,-.37,.001,-.0028,2,-1,0,-1),H(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),H(.36,.2,-.012,-.0043,2,-1,0,-4),H(-1.167,-1.25,.008,-.0106,1,2,0,0),H(-7.412,-6.12,.117,.0484,1,2,0,-2),H(-.311,-.65,-.032,.0044,1,2,0,-4),H(.757,1.82,-.105,.0112,1,-2,0,2),H(2.58,2.32,.027,.0196,1,-2,0,0),H(2.533,2.4,-.014,-.0212,1,-2,0,-2),H(-.344,-.57,-.025,.0036,0,3,0,-2),H(-.992,-.02,0,0,1,0,2,2),H(-45.099,-.02,0,-.001,1,0,2,0),H(-.179,-9.52,0,-.0833,1,0,2,-2),H(-.301,-.33,0,.0014,1,0,2,-4),H(-6.382,-3.37,0,-.0481,1,0,-2,2),H(39.528,85.13,0,-.7136,1,0,-2,0),H(9.366,.71,0,-.0112,1,0,-2,-2),H(.202,.02,0,0,1,0,-2,-4),H(.415,.1,0,.0013,0,1,2,0),H(-2.152,-2.26,0,-.0066,0,1,2,-2),H(-1.44,-1.3,0,.0014,0,1,-2,2),H(.384,-.04,0,0,0,1,-2,-2),H(1.938,3.6,-.145,.0401,4,0,0,0),H(-.952,-1.58,.052,-.013,4,0,0,-2),H(-.551,-.94,.032,-.0097,3,1,0,0),H(-.482,-.57,.005,-.0045,3,1,0,-2),H(.681,.96,-.026,.0115,3,-1,0,0),H(-.297,-.27,.002,-9e-4,2,2,0,-2),H(.254,.21,-.003,0,2,-2,0,-2),H(-.25,-.22,.004,.0014,1,3,0,-2),H(-3.996,0,0,4e-4,2,0,2,0),H(.557,-.75,0,-.009,2,0,2,-2),H(-.459,-.38,0,-.0053,2,0,-2,2),H(-1.298,.74,0,4e-4,2,0,-2,0),H(.538,1.14,0,-.0141,2,0,-2,-2),H(.263,.02,0,0,1,1,2,0),H(.426,.07,0,-6e-4,1,1,-2,-2),H(-.304,.03,0,3e-4,1,-1,2,0),H(-.372,-.19,0,-.0027,1,-1,-2,2),H(.418,0,0,0,0,0,4,0),H(-.33,-.04,0,0,3,0,2,0),y=0,y+=q(-526.069,0,0,1,-2),y+=q(-3.352,0,0,1,-4),y+=q(44.297,1,0,1,-2),y+=q(-6,1,0,1,-4),y+=q(20.599,-1,0,1,0),y+=q(-30.598,-1,0,1,-2),y+=q(-24.649,-2,0,1,0),y+=q(-2,-2,0,1,-2),y+=q(-22.571,0,1,1,-2),y+=q(10.985,0,-1,1,-2),m+=.82*V(.7736-62.5512*e)+.31*V(.0466-125.1025*e)+.35*V(.5785-25.1042*e)+.66*V(.4591+1335.8075*e)+.64*V(.313-91.568*e)+1.14*V(.148+1331.2898*e)+.21*V(.5918+1056.5859*e)+.44*V(.5784+1322.8595*e)+.24*V(.2275-5.7374*e)+.28*V(.2965+2.6929*e)+.33*V(.3132+6.3368*e),o=b+N/St;let R=(1.000002708+139.978*f)*(18518.511+1.189+p)*Math.sin(o)-6.24*Math.sin(3*o)+y;return{geo_eclip_lon:vt*zt((w+m/St)/vt),geo_eclip_lat:Math.PI/648e3*R,distance_au:4263520978299708e-20*St/(.999953253*g)}}(e),s=n.distance_au*Math.cos(n.geo_eclip_lat),r=Qt(Yt(e,[s*Math.cos(n.geo_eclip_lon),s*Math.sin(n.geo_eclip_lon),n.distance_au*Math.sin(n.geo_eclip_lat)]),e,Ut.Into2000);return new se(r[0],r[1],r[2],e)}function we(t){const e=qt(t),n=1e-5,s=e.AddDays(-n),r=e.AddDays(+n),i=ge(s),o=ge(r);return new re((i.x+o.x)/2,(i.y+o.y)/2,(i.z+o.z)/2,(o.x-i.x)/(2*n),(o.y-i.y)/(2*n),(o.z-i.z)/(2*n),e)}function ve(t,e,n){let s=1,r=0;for(let i of t){let t=0;for(let[n,s,r]of i)t+=n*Math.cos(s+e*r);let o=s*t;n&&(o%=vt),r+=o,s*=e}return r}function Se(t,e){let n=1,s=0,r=0,i=0;for(let o of t){let t=0,a=0;for(let[n,s,r]of o){let o=s+e*r;t+=n*r*Math.sin(o),i>0&&(a+=n*Math.cos(o))}r+=i*s*a-n*t,s=n,n*=e,++i}return r}const be=365250,Me=0,$e=1,ke=2;function xe(t){return new ze(t[0]+4.4036e-7*t[1]-1.90919e-7*t[2],-4.79966e-7*t[0]+.917482137087*t[1]-.397776982902*t[2],.397776982902*t[1]+.917482137087*t[2])}function _e(t,e,n){const s=n*Math.cos(e);return[s*Math.cos(t),s*Math.sin(t),n*Math.sin(e)]}function Te(t,e){const n=e.tt/be;return xe(_e(ve(t[Me],n,!0),ve(t[$e],n,!1),ve(t[ke],n,!1))).ToAstroVector(e)}function Ne(t,e){const n=e/be,s=ve(t[Me],n,!0),r=ve(t[$e],n,!1),i=ve(t[ke],n,!1),o=Se(t[Me],n),a=Se(t[$e],n),u=Se(t[ke],n),l=Math.cos(s),c=Math.sin(s),h=Math.cos(r),d=Math.sin(r),f=+u*h*l-i*d*l*a-i*h*c*o,m=+u*h*c-i*d*c*a+i*h*l*o,y=+u*d+i*h*a,p=_e(s,r,i),g=[f/be,m/be,y/be],w=xe(p),v=xe(g);return new Ve(e,w,v)}function Oe(t,e,n,s){const r=s/(s+Nt),i=Te(Wt[n],e);t.x+=r*i.x,t.y+=r*i.y,t.z+=r*i.z}const Ee=51,De=29200,Ae=146,Ce=201,Ie=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class ze{constructor(t,e,n){this.x=t,this.y=e,this.z=n}clone(){return new ze(this.x,this.y,this.z)}ToAstroVector(t){return new se(this.x,this.y,this.z,t)}static zero(){return new ze(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(t){return new ze(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new ze(this.x-t.x,this.y-t.y,this.z-t.z)}incr(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}decr(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}mul(t){return new ze(t*this.x,t*this.y,t*this.z)}div(t){return new ze(this.x/t,this.y/t,this.z/t)}mean(t){return new ze((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}neg(){return new ze(-this.x,-this.y,-this.z)}}class Ve{constructor(t,e,n){this.tt=t,this.r=e,this.v=n}clone(){return new Ve(this.tt,this.r,this.v)}sub(t){return new Ve(this.tt,this.r.sub(t.r),this.v.sub(t.v))}}function Fe(t,e,n,s){const r=s/(s+Nt),i=Ne(Wt[n],e);return t.r.incr(i.r.mul(r)),t.v.incr(i.v.mul(r)),i}function Le(t,e,n){const s=n.sub(t),r=s.quadrature();return s.mul(e/(r*Math.sqrt(r)))}class Pe{constructor(t){let e=new Ve(t,new ze(0,0,0),new ze(0,0,0));this.Jupiter=Fe(e,t,Vt.Jupiter,Ot),this.Saturn=Fe(e,t,Vt.Saturn,Et),this.Uranus=Fe(e,t,Vt.Uranus,Dt),this.Neptune=Fe(e,t,Vt.Neptune,At),this.Jupiter.r.decr(e.r),this.Jupiter.v.decr(e.v),this.Saturn.r.decr(e.r),this.Saturn.v.decr(e.v),this.Uranus.r.decr(e.r),this.Uranus.v.decr(e.v),this.Neptune.r.decr(e.r),this.Neptune.v.decr(e.v),this.Sun=new Ve(t,e.r.mul(-1),e.v.mul(-1))}Acceleration(t){let e=Le(t,Nt,this.Sun.r);return e.incr(Le(t,Ot,this.Jupiter.r)),e.incr(Le(t,Et,this.Saturn.r)),e.incr(Le(t,Dt,this.Uranus.r)),e.incr(Le(t,At,this.Neptune.r)),e}}class Ue{constructor(t,e,n,s){this.tt=t,this.r=e,this.v=n,this.a=s}clone(){return new Ue(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class We{constructor(t,e){this.bary=t,this.grav=e}}function Ze(t,e,n,s){return new ze(e.x+t*(n.x+t*s.x/2),e.y+t*(n.y+t*s.y/2),e.z+t*(n.z+t*s.z/2))}function je(t,e,n){return new ze(e.x+t*n.x,e.y+t*n.y,e.z+t*n.z)}function He(t,e){const n=t-e.tt,s=new Pe(t),r=Ze(n,e.r,e.v,e.a),i=s.Acceleration(r).mean(e.a),o=Ze(n,e.r,e.v,i),a=e.v.add(i.mul(n)),u=s.Acceleration(o),l=new Ue(t,o,a,u);return new We(s,l)}const qe=[];function Re(t,e){const n=Math.floor(t);return n<0?0:n>=e?e-1:n}function Je(t){const e=function(t){let[e,[n,s,r],[i,o,a]]=t;return new Ve(e,new ze(n,s,r),new ze(i,o,a))}(t),n=new Pe(e.tt),s=e.r.add(n.Sun.r),r=e.v.add(n.Sun.v),i=n.Acceleration(s),o=new Ue(e.tt,s,r,i);return new We(n,o)}function Be(t,e,n){let s=Je(t);const r=Math.ceil((e-s.grav.tt)/n);for(let t=0;t<r;++t)s=He(t+1===r?e:s.grav.tt+n,s.grav);return s}function Ye(t,e){let n,s,r;const i=function(t,e){const n=Ie[0][0];if(e<n||e>Ie[Ee-1][0])return null;const s=Re((e-n)/De,Ee-1);if(!t[s]){const e=t[s]=[];let n;e[0]=Je(Ie[s]).grav,e[Ce-1]=Je(Ie[s+1]).grav;let i=e[0].tt;for(n=1;n<Ce-1;++n)e[n]=He(i+=Ae,e[n-1]).grav;i=e[Ce-1].tt;var r=[];for(r[Ce-1]=e[Ce-1],n=Ce-2;n>0;--n)r[n]=He(i-=Ae,r[n+1]).grav;for(n=Ce-2;n>0;--n){const t=n/(Ce-1);e[n].r=e[n].r.mul(1-t).add(r[n].r.mul(t)),e[n].v=e[n].v.mul(1-t).add(r[n].v.mul(t)),e[n].a=e[n].a.mul(1-t).add(r[n].a.mul(t))}}return t[s]}(qe,t.tt);if(i){const e=Re((t.tt-i[0].tt)/Ae,Ce-1),r=i[e],o=i[e+1],a=r.a.mean(o.a),u=Ze(t.tt-r.tt,r.r,r.v,a),l=je(t.tt-r.tt,r.v,a),c=Ze(t.tt-o.tt,o.r,o.v,a),h=je(t.tt-o.tt,o.v,a),d=(t.tt-r.tt)/Ae;n=u.mul(1-d).add(c.mul(d)),s=l.mul(1-d).add(h.mul(d))}else{let e;e=t.tt<Ie[0][0]?Be(Ie[0],t.tt,-Ae):Be(Ie[Ee-1],t.tt,+Ae),n=e.grav.r,s=e.grav.v,r=e.bary}return e&&(r||(r=new Pe(t.tt)),n=n.sub(r.Sun.r),s=s.sub(r.Sun.v)),new re(n.x,n.y,n.z,s.x,s.y,s.z,t)}function Ge(t,e){var n=qt(e);if(t in Wt)return Te(Wt[t],n);if(t===Vt.Pluto){const t=Ye(n,!0);return new se(t.x,t.y,t.z,n)}if(t===Vt.Sun)return new se(0,0,0,n);if(t===Vt.Moon){var s=Te(Wt.Earth,n),r=ge(n);return new se(s.x+r.x,s.y+r.y,s.z+r.z,n)}if(t===Vt.EMB){const t=Te(Wt.Earth,n),e=ge(n),s=82.30056;return new se(t.x+e.x/s,t.y+e.y/s,t.z+e.z/s,n)}if(t===Vt.SSB)return function(t){const e=new se(0,0,0,t);return Oe(e,t,Vt.Jupiter,Ot),Oe(e,t,Vt.Saturn,Et),Oe(e,t,Vt.Uranus,Dt),Oe(e,t,Vt.Neptune,At),e}(n);const i=Pt(t);if(i){return function(t,e){e=qt(e);const n=t.lat*mt,s=t.lon*mt,r=t.dist*Math.cos(n);return new se(r*Math.cos(s),r*Math.sin(s),t.dist*Math.sin(n),e)}(new ie(i.dec,15*i.ra,i.dist),n)}throw`HelioVector: Unknown body "${t}"`}class Qe{constructor(t,e,n,s){this.observerBody=t,this.targetBody=e,this.aberration=n,this.observerPos=s}Position(t){this.aberration&&(this.observerPos=Ge(this.observerBody,t));const e=Ge(this.targetBody,t);return new se(e.x-this.observerPos.x,e.y-this.observerPos.y,e.z-this.observerPos.z,t)}}function Ke(t,e,n,s){Ct(s);const r=qt(t);if(Pt(n)){const t=Ge(n,r);if(s){const n=function(t,e){const n=qt(e);switch(t){case Vt.Sun:return new re(0,0,0,0,0,0,n);case Vt.SSB:const e=new Pe(n.tt);return new re(-e.Sun.r.x,-e.Sun.r.y,-e.Sun.r.z,-e.Sun.v.x,-e.Sun.v.y,-e.Sun.v.z,n);case Vt.Mercury:case Vt.Venus:case Vt.Earth:case Vt.Mars:case Vt.Jupiter:case Vt.Saturn:case Vt.Uranus:case Vt.Neptune:return function(t,e){return new re(t.r.x,t.r.y,t.r.z,t.v.x,t.v.y,t.v.z,e)}(Ne(Wt[t],n.tt),n);case Vt.Pluto:return Ye(n,!0);case Vt.Moon:case Vt.EMB:const s=Ne(Wt.Earth,n.tt),r=t==Vt.Moon?we(n):function(t){const e=qt(t),n=we(e),s=82.30056;return new re(n.x/s,n.y/s,n.z/s,n.vx/s,n.vy/s,n.vz/s,e)}(n);return new re(r.x+s.r.x,r.y+s.r.y,r.z+s.r.z,r.vx+s.v.x,r.vy+s.v.y,r.vz+s.v.z,n);default:if(Pt(t)){const e=Ge(t,n);return new re(e.x,e.y,e.z,0,0,0,n)}throw`HelioState: Unsupported body "${t}"`}}(e,r),s=new se(t.x-n.x,t.y-n.y,t.z-n.z,r),i=dt/s.Length();return new se(s.x+n.vx/i,s.y+n.vy/i,s.z+n.vz/i,r)}const i=Ge(e,r);return new se(t.x-i.x,t.y-i.y,t.z-i.z,r)}let i;i=s?new se(0,0,0,r):Ge(e,r);const o=new Qe(e,n,s,i);return function(t,e){let n=e,s=0;for(let r=0;r<10;++r){const r=t(n),i=r.Length()/dt;if(i>1)throw"Object is too distant for light-travel solver.";const o=e.AddDays(-i);if(s=Math.abs(o.tt-n.tt),s<1e-9)return r;n=o}throw`Light-travel time solver did not converge: dt = ${s}`}((t=>o.Position(t)),r)}function Xe(t,e,n){Ct(n);const s=qt(e);switch(t){case Vt.Earth:return new se(0,0,0,s);case Vt.Moon:return ge(s);default:const e=Ke(s,Vt.Earth,t,n);return e.t=s,e}}function tn(t,e,n,s,r){let i,o=(r+n)/2-s,a=(r-n)/2;if(0==o){if(0==a)return null;if(i=-s/a,i<-1||i>1)return null}else{let t=a*a-4*o*s;if(t<=0)return null;let e=Math.sqrt(t),n=(-a+e)/(2*o),r=(-a-e)/(2*o);if(-1<=n&&n<=1){if(-1<=r&&r<=1)return null;i=n}else{if(!(-1<=r&&r<=1))return null;i=r}}return{t:t+i*e,df_dt:(2*o*i+a)/e}}function en(t,e,n,s){const r=It(s&&s.dt_tolerance_seconds||1),i=Math.abs(r/86400);let o=s&&s.init_f1||t(e),a=s&&s.init_f2||t(n),u=NaN,l=0,c=s&&s.iter_limit||20,h=!0;for(;;){if(++l>c)throw"Excessive iteration in Search()";let s=(f=n,m=.5,new Ht((d=e).ut+m*(f.ut-d.ut))),r=s.ut-e.ut;if(Math.abs(r)<i)return s;h?u=t(s):h=!0;let y=tn(s.ut,n.ut-s.ut,o,u,a);if(y){let s=qt(y.t),l=t(s);if(0!==y.df_dt){if(Math.abs(l/y.df_dt)<i)return s;let c=1.2*Math.abs(l/y.df_dt);if(c<r/10){let r=s.AddDays(-c),i=s.AddDays(+c);if((r.ut-e.ut)*(r.ut-n.ut)<0&&(i.ut-e.ut)*(i.ut-n.ut)<0){let s=t(r),c=t(i);if(s<0&&c>=0){o=s,a=c,e=r,n=i,u=l,h=!1;continue}}}}}if(o<0&&u>=0)n=s,a=u;else{if(!(u<0&&a>=0))return null;e=s,o=u}}var d,f,m}function nn(t){return function(t,e,n){if(t===Vt.Earth||e===Vt.Earth)throw"The Earth does not have a longitude as seen from itself.";const s=qt(n),r=pe(Xe(t,s,!1)),i=pe(Xe(e,s,!1));return function(t){for(;t<0;)t+=360;for(;t>=360;)t-=360;return t}(r.elon-i.elon)}(Vt.Moon,Vt.Sun,t)}class sn{constructor(t,e,n){this.pressure=t,this.temperature=e,this.density=n}}function rn(t,e,n,s,r,i=0){if(!Number.isFinite(i)||i<0)throw`Invalid value for metersAboveGround: ${i}`;const o=function(t){switch(t){case Vt.Sun:return $t;case Vt.Moon:return _t;default:return 0}}(t),a=function(t){const e=101325,n=288.15,s=216.65;if(!Number.isFinite(t)||t<-500||t>1e5)throw`Invalid elevation: ${t}`;let r,i;return t<=11e3?(r=n-.0065*t,i=e*Math.pow(n/r,-5.25577)):t<=2e4?(r=s,i=22632*Math.exp(-.00015768832*(t-11e3))):(r=s+.001*(t-2e4),i=5474.87*Math.pow(s/r,34.16319)),new sn(i,r,i/r/(e/n))}(e.height-i),u=function(t,e){const n=t.latitude*mt,s=Math.sin(n),r=Math.cos(n),i=1/Math.hypot(r,s*kt),o=.9933056020041345*i,a=(t.height-e)/1e3,u=xt*i+a,l=xt*o+a,c=1e3*Math.hypot(u*r,l*s),h=.175*Math.pow(1-.0065/283.15*(t.height-2/3*e),3.256);return pt*(-Math.sqrt(2*(1-h)*e/c)/(1-h))}(e,i);return function(t,e,n,s,r,i,o){if(fe(e),It(r),It(i),It(o),o<-90||o>90)throw`Invalid target altitude angle: ${o}`;const a=.42,u=function(t,e){if(e<-90||e>90)throw`Invalid geographic latitude: ${e}`;let n,s;switch(t){case Vt.Moon:n=4.5,s=8.2;break;case Vt.Sun:n=.8,s=.5;break;case Vt.Mercury:n=-1.6,s=1;break;case Vt.Venus:n=-.8,s=.6;break;case Vt.Mars:n=-.5,s=.4;break;case Vt.Jupiter:case Vt.Saturn:case Vt.Uranus:case Vt.Neptune:case Vt.Pluto:n=-.2,s=.2;break;case Vt.Star1:case Vt.Star2:case Vt.Star3:case Vt.Star4:case Vt.Star5:case Vt.Star6:case Vt.Star7:case Vt.Star8:n=-.008,s=.008;break;default:throw`Body not allowed for altitude search: ${t}`}const r=mt*e;return Math.abs((360.98564540070413-n)*Math.cos(r))+Math.abs(s*Math.sin(r))}(t,e.latitude);function l(s){const r=ye(t,s,e,!0,!0),a=de(s,e,r.ra,r.dec).altitude+pt*Math.asin(i/r.dist);return n*(a-o)}const c=qt(s);let h=c,d=c,f=l(h),m=f;for(;;){r<0?(h=d.AddDays(-a),f=l(h)):(d=h.AddDays(+a),m=l(d));const t=an(0,l,u,h,d,f,m);if(t){const e=en(l,t.tx,t.ty,{dt_tolerance_seconds:.1,init_f1:t.ax,init_f2:t.ay});if(e){if(r<0){if(e.ut<c.ut+r)return null}else if(e.ut>c.ut+r)return null;return e}throw`Rise/set search failed after finding ascent: t1=${h}, t2=${d}, a1=${f}, a2=${m}`}if(r<0){if(h.ut<c.ut+r)return null;d=h,m=f}else{if(d.ut>c.ut+r)return null;h=d,f=m}}}(t,e,n,s,r,o,u-Tt*a.density)}class on{constructor(t,e,n,s){this.tx=t,this.ty=e,this.ax=n,this.ay=s}}function an(t,e,n,s,r,i,o){if(i<0&&o>=0)return new on(s,r,i,o);if(i>=0&&o<0)return null;if(t>17)throw"Excessive recursion in rise/set ascent search.";const a=r.ut-s.ut;if(86400*a<1)return null;if(Math.min(Math.abs(i),Math.abs(o))>n*(a/2))return null;const u=new Ht((s.ut+r.ut)/2),l=e(u);return an(1+t,e,n,s,u,i,l)||an(1+t,e,n,u,r,l,o)}var un,ln,cn;!function(t){t[t.Pericenter=0]="Pericenter",t[t.Apocenter=1]="Apocenter"}(un||(un={})),function(t){t.Penumbral="penumbral",t.Partial="partial",t.Annular="annular",t.Total="total"}(ln||(ln={})),function(t){t[t.Invalid=0]="Invalid",t[t.Ascending=1]="Ascending",t[t.Descending=-1]="Descending"}(cn||(cn={}));class hn extends Error{}class dn extends hn{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class fn extends hn{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class mn extends hn{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class yn extends hn{}class pn extends hn{constructor(t){super(`Invalid unit ${t}`)}}class gn extends hn{}class wn extends hn{constructor(){super("Zone is an abstract class")}}const vn="numeric",Sn="short",bn="long",Mn={year:vn,month:vn,day:vn},$n={year:vn,month:Sn,day:vn},kn={year:vn,month:Sn,day:vn,weekday:Sn},xn={year:vn,month:bn,day:vn},_n={year:vn,month:bn,day:vn,weekday:bn},Tn={hour:vn,minute:vn},Nn={hour:vn,minute:vn,second:vn},On={hour:vn,minute:vn,second:vn,timeZoneName:Sn},En={hour:vn,minute:vn,second:vn,timeZoneName:bn},Dn={hour:vn,minute:vn,hourCycle:"h23"},An={hour:vn,minute:vn,second:vn,hourCycle:"h23"},Cn={hour:vn,minute:vn,second:vn,hourCycle:"h23",timeZoneName:Sn},In={hour:vn,minute:vn,second:vn,hourCycle:"h23",timeZoneName:bn},zn={year:vn,month:vn,day:vn,hour:vn,minute:vn},Vn={year:vn,month:vn,day:vn,hour:vn,minute:vn,second:vn},Fn={year:vn,month:Sn,day:vn,hour:vn,minute:vn},Ln={year:vn,month:Sn,day:vn,hour:vn,minute:vn,second:vn},Pn={year:vn,month:Sn,day:vn,weekday:Sn,hour:vn,minute:vn},Un={year:vn,month:bn,day:vn,hour:vn,minute:vn,timeZoneName:Sn},Wn={year:vn,month:bn,day:vn,hour:vn,minute:vn,second:vn,timeZoneName:Sn},Zn={year:vn,month:bn,day:vn,weekday:bn,hour:vn,minute:vn,timeZoneName:bn},jn={year:vn,month:bn,day:vn,weekday:bn,hour:vn,minute:vn,second:vn,timeZoneName:bn};class Hn{get type(){throw new wn}get name(){throw new wn}get ianaName(){return this.name}get isUniversal(){throw new wn}offsetName(t,e){throw new wn}formatOffset(t,e){throw new wn}offset(t){throw new wn}equals(t){throw new wn}get isValid(){throw new wn}}let qn=null;class Rn extends Hn{static get instance(){return null===qn&&(qn=new Rn),qn}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return dr(t,e,n)}formatOffset(t,e){return pr(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}const Jn=new Map;const Bn={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};const Yn=new Map;class Gn extends Hn{static create(t){let e=Yn.get(t);return void 0===e&&Yn.set(t,e=new Gn(t)),e}static resetCache(){Yn.clear(),Jn.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(t){return!1}}constructor(t){super(),this.zoneName=t,this.valid=Gn.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return dr(t,e,n,this.name)}formatOffset(t,e){return pr(this.offset(t),e)}offset(t){if(!this.valid)return NaN;const e=new Date(t);if(isNaN(e))return NaN;const n=function(t){let e=Jn.get(t);return void 0===e&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Jn.set(t,e)),e}(this.name);let[s,r,i,o,a,u,l]=n.formatToParts?function(t,e){const n=t.formatToParts(e),s=[];for(let t=0;t<n.length;t++){const{type:e,value:r}=n[t],i=Bn[e];"era"===e?s[i]=r:qs(i)||(s[i]=parseInt(r,10))}return s}(n,e):function(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,i,o,a,u,l,c]=s;return[o,r,i,a,u,l,c]}(n,e);"BC"===o&&(s=1-Math.abs(s));let c=+e;const h=c%1e3;return c-=h>=0?h:1e3+h,(ur({year:s,month:r,day:i,hour:24===a?0:a,minute:u,second:l,millisecond:0})-c)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let Qn={};const Kn=new Map;function Xn(t,e={}){const n=JSON.stringify([t,e]);let s=Kn.get(n);return void 0===s&&(s=new Intl.DateTimeFormat(t,e),Kn.set(n,s)),s}const ts=new Map;const es=new Map;let ns=null;const ss=new Map;function rs(t){let e=ss.get(t);return void 0===e&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),ss.set(t,e)),e}const is=new Map;function os(t,e,n,s){const r=t.listingMode();return"error"===r?null:"en"===r?n(e):s(e)}class as{constructor(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:r,...i}=n;if(!e||Object.keys(i).length>0){const e={useGrouping:!1,...n};n.padTo>0&&(e.minimumIntegerDigits=n.padTo),this.inf=function(t,e={}){const n=JSON.stringify([t,e]);let s=ts.get(n);return void 0===s&&(s=new Intl.NumberFormat(t,e),ts.set(n,s)),s}(t,e)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return tr(this.floor?Math.floor(t):rr(t,3),this.padTo)}}class us{constructor(t,e,n){let s;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const e=t.offset/60*-1,n=e>=0?`Etc/GMT+${e}`:`Etc/GMT${e}`;0!==t.offset&&Gn.create(n).valid?(s=n,this.dt=t):(s="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const r={...this.opts};r.timeZone=r.timeZone||s,this.dtf=Xn(e,r)}format(){return this.originalZone?this.formatToParts().map((({value:t})=>t)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((t=>{if("timeZoneName"===t.type){const e=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:e}}return t})):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class ls{constructor(t,e,n){this.opts={style:"long",...n},!e&&Bs()&&(this.rtf=function(t,e={}){const{base:n,...s}=e,r=JSON.stringify([t,s]);let i=es.get(r);return void 0===i&&(i=new Intl.RelativeTimeFormat(t,e),es.set(r,i)),i}(t,n))}format(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,n="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===n&&i){const n="days"===t;switch(e){case 1:return n?"tomorrow":`next ${r[t][0]}`;case-1:return n?"yesterday":`last ${r[t][0]}`;case 0:return n?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),u=1===a,l=r[t],c=s?u?l[1]:l[2]||l[1]:u?r[t][0]:t;return o?`${a} ${c} ago`:`in ${a} ${c}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const cs={firstDay:1,minimalDays:4,weekend:[6,7]};class hs{static fromOpts(t){return hs.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,n,s,r=!1){const i=t||Os.defaultLocale,o=i||(r?"en-US":ns||(ns=(new Intl.DateTimeFormat).resolvedOptions().locale,ns)),a=e||Os.defaultNumberingSystem,u=n||Os.defaultOutputCalendar,l=Ks(s)||Os.defaultWeekSettings;return new hs(o,a,u,l,i)}static resetCache(){ns=null,Kn.clear(),ts.clear(),es.clear(),ss.clear(),is.clear()}static fromObject({locale:t,numberingSystem:e,outputCalendar:n,weekSettings:s}={}){return hs.create(t,e,n,s)}constructor(t,e,n,s,r){const[i,o,a]=function(t){const e=t.indexOf("-x-");-1!==e&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(-1===n)return[t];{let e,s;try{e=Xn(t).resolvedOptions(),s=t}catch(r){const i=t.substring(0,n);e=Xn(i).resolvedOptions(),s=i}const{numberingSystem:r,calendar:i}=e;return[s,r,i]}}(t);this.locale=i,this.numberingSystem=e||o||null,this.outputCalendar=n||a||null,this.weekSettings=s,this.intl=function(t,e,n){return n||e?(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`),t):t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===rs(t.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),e=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t&&e?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?hs.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Ks(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return os(this,t,br,(()=>{const n=e?{month:t,day:"numeric"}:{month:t},s=e?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=function(t){const e=[];for(let n=1;n<=12;n++){const s=xo.utc(2009,n,1);e.push(t(s))}return e}((t=>this.extract(t,n,"month")))),this.monthsCache[s][t]}))}weekdays(t,e=!1){return os(this,t,xr,(()=>{const n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=e?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=function(t){const e=[];for(let n=1;n<=7;n++){const s=xo.utc(2016,11,13+n);e.push(t(s))}return e}((t=>this.extract(t,n,"weekday")))),this.weekdaysCache[s][t]}))}meridiems(){return os(this,void 0,(()=>_r),(()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xo.utc(2016,11,13,9),xo.utc(2016,11,13,19)].map((e=>this.extract(e,t,"dayperiod")))}return this.meridiemCache}))}eras(t){return os(this,t,Er,(()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[xo.utc(-40,1,1),xo.utc(2017,1,1)].map((t=>this.extract(t,e,"era")))),this.eraCache[t]}))}extract(t,e,n){const s=this.dtFormatter(t,e).formatToParts().find((t=>t.type.toLowerCase()===n));return s?s.value:null}numberFormatter(t={}){return new as(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new us(t,this.intl,e)}relFormatter(t={}){return new ls(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function(t,e={}){const n=JSON.stringify([t,e]);let s=Qn[n];return s||(s=new Intl.ListFormat(t,e),Qn[n]=s),s}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||rs(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ys()?function(t){let e=is.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...cs,...e}),is.set(t,e)}return e}(this.locale):cs}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ds=null;class fs extends Hn{static get utcInstance(){return null===ds&&(ds=new fs(0)),ds}static instance(t){return 0===t?fs.utcInstance:new fs(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new fs(fr(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${pr(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${pr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return pr(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class ms extends Hn{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ys(t,e){if(qs(t)||null===t)return e;if(t instanceof Hn)return t;if(function(t){return"string"==typeof t}(t)){const n=t.toLowerCase();return"default"===n?e:"local"===n||"system"===n?Rn.instance:"utc"===n||"gmt"===n?fs.utcInstance:fs.parseSpecifier(n)||Gn.create(t)}return Rs(t)?fs.instance(t):"object"==typeof t&&"offset"in t&&"function"==typeof t.offset?t:new ms(t)}const ps={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},gs={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ws=ps.hanidec.replace(/[\[|\]]/g,"").split("");const vs=new Map;function Ss({numberingSystem:t},e=""){const n=t||"latn";let s=vs.get(n);void 0===s&&(s=new Map,vs.set(n,s));let r=s.get(e);return void 0===r&&(r=new RegExp(`${ps[n]}${e}`),s.set(e,r)),r}let bs,Ms=()=>Date.now(),$s="system",ks=null,xs=null,_s=null,Ts=60,Ns=null;class Os{static get now(){return Ms}static set now(t){Ms=t}static set defaultZone(t){$s=t}static get defaultZone(){return ys($s,Rn.instance)}static get defaultLocale(){return ks}static set defaultLocale(t){ks=t}static get defaultNumberingSystem(){return xs}static set defaultNumberingSystem(t){xs=t}static get defaultOutputCalendar(){return _s}static set defaultOutputCalendar(t){_s=t}static get defaultWeekSettings(){return Ns}static set defaultWeekSettings(t){Ns=Ks(t)}static get twoDigitCutoffYear(){return Ts}static set twoDigitCutoffYear(t){Ts=t%100}static get throwOnInvalid(){return bs}static set throwOnInvalid(t){bs=t}static resetCaches(){hs.resetCache(),Gn.resetCache(),xo.resetCache(),vs.clear()}}class Es{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ds=[0,31,59,90,120,151,181,212,243,273,304,334],As=[0,31,60,91,121,152,182,213,244,274,305,335];function Cs(t,e){return new Es("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Is(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return 0===r?7:r}function zs(t,e,n){return n+(ir(t)?As:Ds)[e-1]}function Vs(t,e){const n=ir(t)?As:Ds,s=n.findIndex((t=>t<e));return{month:s+1,day:e-n[s]}}function Fs(t,e){return(t-e+7)%7+1}function Ls(t,e=4,n=1){const{year:s,month:r,day:i}=t,o=zs(s,r,i),a=Fs(Is(s,r,i),n);let u,l=Math.floor((o-a+14-e)/7);return l<1?(u=s-1,l=cr(u,e,n)):l>cr(s,e,n)?(u=s+1,l=1):u=s,{weekYear:u,weekNumber:l,weekday:a,...gr(t)}}function Ps(t,e=4,n=1){const{weekYear:s,weekNumber:r,weekday:i}=t,o=Fs(Is(s,1,e),n),a=or(s);let u,l=7*r+i-o-7+e;l<1?(u=s-1,l+=or(u)):l>a?(u=s+1,l-=or(s)):u=s;const{month:c,day:h}=Vs(u,l);return{year:u,month:c,day:h,...gr(t)}}function Us(t){const{year:e,month:n,day:s}=t;return{year:e,ordinal:zs(e,n,s),...gr(t)}}function Ws(t){const{year:e,ordinal:n}=t,{month:s,day:r}=Vs(e,n);return{year:e,month:s,day:r,...gr(t)}}function Zs(t,e){if(!qs(t.localWeekday)||!qs(t.localWeekNumber)||!qs(t.localWeekYear)){if(!qs(t.weekday)||!qs(t.weekNumber)||!qs(t.weekYear))throw new yn("Cannot mix locale-based week fields with ISO-based week fields");return qs(t.localWeekday)||(t.weekday=t.localWeekday),qs(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),qs(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function js(t){const e=Js(t.year),n=Xs(t.month,1,12),s=Xs(t.day,1,ar(t.year,t.month));return e?n?!s&&Cs("day",t.day):Cs("month",t.month):Cs("year",t.year)}function Hs(t){const{hour:e,minute:n,second:s,millisecond:r}=t,i=Xs(e,0,23)||24===e&&0===n&&0===s&&0===r,o=Xs(n,0,59),a=Xs(s,0,59),u=Xs(r,0,999);return i?o?a?!u&&Cs("millisecond",r):Cs("second",s):Cs("minute",n):Cs("hour",e)}function qs(t){return void 0===t}function Rs(t){return"number"==typeof t}function Js(t){return"number"==typeof t&&t%1==0}function Bs(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Ys(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(t){return!1}}function Gs(t,e,n){if(0!==t.length)return t.reduce(((t,s)=>{const r=[e(s),s];return t&&n(t[0],r[0])===t[0]?t:r}),null)[1]}function Qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ks(t){if(null==t)return null;if("object"!=typeof t)throw new gn("Week settings must be an object");if(!Xs(t.firstDay,1,7)||!Xs(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some((t=>!Xs(t,1,7))))throw new gn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Xs(t,e,n){return Js(t)&&t>=e&&t<=n}function tr(t,e=2){let n;return n=t<0?"-"+(""+-t).padStart(e,"0"):(""+t).padStart(e,"0"),n}function er(t){return qs(t)||null===t||""===t?void 0:parseInt(t,10)}function nr(t){return qs(t)||null===t||""===t?void 0:parseFloat(t)}function sr(t){if(!qs(t)&&null!==t&&""!==t){const e=1e3*parseFloat("0."+t);return Math.floor(e)}}function rr(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function ir(t){return t%4==0&&(t%100!=0||t%400==0)}function or(t){return ir(t)?366:365}function ar(t,e){const n=function(t,e){return t-e*Math.floor(t/e)}(e-1,12)+1;return 2===n?ir(t+(e-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function ur(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function lr(t,e,n){return-Fs(Is(t,1,e),n)+e-1}function cr(t,e=4,n=1){const s=lr(t,e,n),r=lr(t+1,e,n);return(or(t)-s+r)/7}function hr(t){return t>99?t:t>Os.twoDigitCutoffYear?1900+t:2e3+t}function dr(t,e,n,s=null){const r=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(i.timeZone=s);const o={timeZoneName:e,...i},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find((t=>"timezonename"===t.type.toLowerCase()));return a?a.value:null}function fr(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0;return 60*n+(n<0||Object.is(n,-0)?-s:s)}function mr(t){const e=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(e))throw new gn(`Invalid unit value ${t}`);return e}function yr(t,e){const n={};for(const s in t)if(Qs(t,s)){const r=t[s];if(null==r)continue;n[e(s)]=mr(r)}return n}function pr(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${tr(n,2)}:${tr(s,2)}`;case"narrow":return`${r}${n}${s>0?`:${s}`:""}`;case"techie":return`${r}${tr(n,2)}${tr(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function gr(t){return function(t,e){return e.reduce(((e,n)=>(e[n]=t[n],e)),{})}(t,["hour","minute","second","millisecond"])}const wr=["January","February","March","April","May","June","July","August","September","October","November","December"],vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Sr=["J","F","M","A","M","J","J","A","S","O","N","D"];function br(t){switch(t){case"narrow":return[...Sr];case"short":return[...vr];case"long":return[...wr];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Mr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kr=["M","T","W","T","F","S","S"];function xr(t){switch(t){case"narrow":return[...kr];case"short":return[...$r];case"long":return[...Mr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _r=["AM","PM"],Tr=["Before Christ","Anno Domini"],Nr=["BC","AD"],Or=["B","A"];function Er(t){switch(t){case"narrow":return[...Or];case"short":return[...Nr];case"long":return[...Tr];default:return null}}function Dr(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const Ar={D:Mn,DD:$n,DDD:xn,DDDD:_n,t:Tn,tt:Nn,ttt:On,tttt:En,T:Dn,TT:An,TTT:Cn,TTTT:In,f:zn,ff:Fn,fff:Un,ffff:Zn,F:Vn,FF:Ln,FFF:Wn,FFFF:jn};class Cr{static create(t,e={}){return new Cr(t,e)}static parseFormat(t){let e=null,n="",s=!1;const r=[];for(let i=0;i<t.length;i++){const o=t.charAt(i);"'"===o?(n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),e=null,n="",s=!s):s||o===e?n+=o:(n.length>0&&r.push({literal:/^\s+$/.test(n),val:n}),n=o,e=o)}return n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),r}static macroTokenToFormatOpts(t){return Ar[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return tr(t,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,e){const n="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(e,n)=>this.loc.extract(t,e,n),i=e=>t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):"",o=()=>n?function(t){return _r[t.hour<12?0:1]}(t):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(e,s)=>n?function(t,e){return br(e)[t.month-1]}(t,e):r(s?{month:e}:{month:e,day:"numeric"},"month"),u=(e,s)=>n?function(t,e){return xr(e)[t.weekday-1]}(t,e):r(s?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday"),l=e=>{const n=Cr.macroTokenToFormatOpts(e);return n?this.formatWithSystemDefault(t,n):e},c=e=>n?function(t,e){return Er(e)[t.year<0?0:1]}(t,e):r({era:e},"era");return Dr(Cr.parseFormat(e),(e=>{switch(e){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return s?r({day:"numeric"},"day"):this.num(t.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(t.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(t.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return l(e)}}))}formatDurationFromString(t,e){const n=t=>{switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=Cr.parseFormat(e),r=s.reduce(((t,{literal:e,val:n})=>e?t:t.concat(n)),[]),i=t.shiftTo(...r.map(n).filter((t=>t)));return Dr(s,(t=>e=>{const s=n(e);return s?this.num(t.get(s),e.length):e})(i))}}const Ir=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function zr(...t){const e=t.reduce(((t,e)=>t+e.source),"");return RegExp(`^${e}$`)}function Vr(...t){return e=>t.reduce((([t,n,s],r)=>{const[i,o,a]=r(e,s);return[{...t,...i},o||n,a]}),[{},null,1]).slice(0,2)}function Fr(t,...e){if(null==t)return[null,null];for(const[n,s]of e){const e=n.exec(t);if(e)return s(e)}return[null,null]}function Lr(...t){return(e,n)=>{const s={};let r;for(r=0;r<t.length;r++)s[t[r]]=er(e[n+r]);return[s,null,n+r]}}const Pr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ur=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wr=RegExp(`${Ur.source}${`(?:${Pr.source}?(?:\\[(${Ir.source})\\])?)?`}`),Zr=RegExp(`(?:T${Wr.source})?`),jr=Lr("weekYear","weekNumber","weekDay"),Hr=Lr("year","ordinal"),qr=RegExp(`${Ur.source} ?(?:${Pr.source}|(${Ir.source}))?`),Rr=RegExp(`(?: ${qr.source})?`);function Jr(t,e,n){const s=t[e];return qs(s)?n:er(s)}function Br(t,e){return[{hours:Jr(t,e,0),minutes:Jr(t,e+1,0),seconds:Jr(t,e+2,0),milliseconds:sr(t[e+3])},null,e+4]}function Yr(t,e){const n=!t[e]&&!t[e+1],s=fr(t[e+1],t[e+2]);return[{},n?null:fs.instance(s),e+3]}function Gr(t,e){return[{},t[e]?Gn.create(t[e]):null,e+1]}const Qr=RegExp(`^T?${Ur.source}$`),Kr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Xr(t){const[e,n,s,r,i,o,a,u,l]=t,c="-"===e[0],h=u&&"-"===u[0],d=(t,e=!1)=>void 0!==t&&(e||t&&c)?-t:t;return[{years:d(nr(n)),months:d(nr(s)),weeks:d(nr(r)),days:d(nr(i)),hours:d(nr(o)),minutes:d(nr(a)),seconds:d(nr(u),"-0"===u),milliseconds:d(sr(l),h)}]}const ti={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ei(t,e,n,s,r,i,o){const a={year:2===e.length?hr(er(e)):er(e),month:vr.indexOf(n)+1,day:er(s),hour:er(r),minute:er(i)};return o&&(a.second=er(o)),t&&(a.weekday=t.length>3?Mr.indexOf(t)+1:$r.indexOf(t)+1),a}const ni=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function si(t){const[,e,n,s,r,i,o,a,u,l,c,h]=t,d=ei(e,r,s,n,i,o,a);let f;return f=u?ti[u]:l?0:fr(c,h),[d,new fs(f)]}const ri=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ii=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,oi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ai(t){const[,e,n,s,r,i,o,a]=t;return[ei(e,r,s,n,i,o,a),fs.utcInstance]}function ui(t){const[,e,n,s,r,i,o,a]=t;return[ei(e,a,n,s,r,i,o),fs.utcInstance]}const li=zr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Zr),ci=zr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zr),hi=zr(/(\d{4})-?(\d{3})/,Zr),di=zr(Wr),fi=Vr((function(t,e){return[{year:Jr(t,e),month:Jr(t,e+1,1),day:Jr(t,e+2,1)},null,e+3]}),Br,Yr,Gr),mi=Vr(jr,Br,Yr,Gr),yi=Vr(Hr,Br,Yr,Gr),pi=Vr(Br,Yr,Gr);const gi=Vr(Br);const wi=zr(/(\d{4})-(\d\d)-(\d\d)/,Rr),vi=zr(qr),Si=Vr(Br,Yr,Gr);const bi="Invalid Duration",Mi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},$i={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Mi},ki=365.2425,xi=30.436875,_i={years:{quarters:4,months:12,weeks:52.1775,days:ki,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:xi,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Mi},Ti=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ni=Ti.slice(0).reverse();function Oi(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ai(s)}function Ei(t,e){let n=e.milliseconds??0;for(const s of Ni.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function Di(t,e){const n=Ei(t,e)<0?-1:1;Ti.reduceRight(((s,r)=>{if(qs(e[r]))return s;if(s){const i=e[s]*n,o=t[r][s],a=Math.floor(i/o);e[r]+=a*n,e[s]-=a*o*n}return r}),null),Ti.reduce(((n,s)=>{if(qs(e[s]))return n;if(n){const r=e[n]%1;e[n]-=r,e[s]+=r*t[n][s]}return s}),null)}class Ai{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let n=e?_i:$i;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||hs.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,e){return Ai.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new gn("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Ai({values:yr(t,Ai.normalizeUnit),loc:hs.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(Rs(t))return Ai.fromMillis(t);if(Ai.isDuration(t))return t;if("object"==typeof t)return Ai.fromObject(t);throw new gn(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[n]=function(t){return Fr(t,[Kr,Xr])}(t);return n?Ai.fromObject(n,e):Ai.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[n]=function(t){return Fr(t,[Qr,gi])}(t);return n?Ai.fromObject(n,e):Ai.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new gn("need to specify a reason the Duration is invalid");const n=t instanceof Es?t:new Es(t,e);if(Os.throwOnInvalid)throw new mn(n);return new Ai({invalid:n})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new pn(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?Cr.create(this.loc,n).formatDurationFromString(this,t):bi}toHuman(t={}){if(!this.isValid)return bi;const e=Ti.map((e=>{const n=this.values[e];return qs(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:e.slice(0,-1)}).format(n)})).filter((t=>t));return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=rr(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();if(e<0||e>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1};return xo.fromMillis(e,{zone:"UTC"}).toISOTime(t)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ei(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Ai.fromDurationLike(t),n={};for(const t of Ti)(Qs(e.values,t)||Qs(this.values,t))&&(n[t]=e.get(t)+this.get(t));return Oi(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const e=Ai.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=mr(t(this.values[n],n));return Oi(this,{values:e},!0)}get(t){return this[Ai.normalizeUnit(t)]}set(t){if(!this.isValid)return this;return Oi(this,{values:{...this.values,...yr(t,Ai.normalizeUnit)}})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:n,matrix:s}={}){return Oi(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:s,conversionAccuracy:n})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Di(this.matrix,t),Oi(this,{values:t},!0)}rescale(){if(!this.isValid)return this;return Oi(this,{values:function(t){const e={};for(const[n,s]of Object.entries(t))0!==s&&(e[n]=s);return e}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map((t=>Ai.normalizeUnit(t)));const e={},n={},s=this.toObject();let r;for(const i of Ti)if(t.indexOf(i)>=0){r=i;let t=0;for(const e in n)t+=this.matrix[e][i]*n[e],n[e]=0;Rs(s[i])&&(t+=s[i]);const o=Math.trunc(t);e[i]=o,n[i]=(1e3*t-1e3*o)/1e3}else Rs(s[i])&&(n[i]=s[i]);for(const t in n)0!==n[t]&&(e[r]+=t===r?n[t]:n[t]/this.matrix[r][t]);return Di(this.matrix,e),Oi(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return Oi(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;for(const s of Ti)if(e=this.values[s],n=t.values[s],!(void 0===e||0===e?void 0===n||0===n:e===n))return!1;var e,n;return!0}}const Ci="Invalid Interval";class Ii{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new gn("need to specify a reason the Interval is invalid");const n=t instanceof Es?t:new Es(t,e);if(Os.throwOnInvalid)throw new fn(n);return new Ii({invalid:n})}static fromDateTimes(t,e){const n=_o(t),s=_o(e),r=function(t,e){return t&&t.isValid?e&&e.isValid?e<t?Ii.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null:Ii.invalid("missing or invalid end"):Ii.invalid("missing or invalid start")}(n,s);return null==r?new Ii({start:n,end:s}):r}static after(t,e){const n=Ai.fromDurationLike(e),s=_o(t);return Ii.fromDateTimes(s,s.plus(n))}static before(t,e){const n=Ai.fromDurationLike(e),s=_o(t);return Ii.fromDateTimes(s.minus(n),s)}static fromISO(t,e){const[n,s]=(t||"").split("/",2);if(n&&s){let t,r,i,o;try{t=xo.fromISO(n,e),r=t.isValid}catch(s){r=!1}try{i=xo.fromISO(s,e),o=i.isValid}catch(s){o=!1}if(r&&o)return Ii.fromDateTimes(t,i);if(r){const n=Ai.fromISO(s,e);if(n.isValid)return Ii.after(t,n)}else if(o){const t=Ai.fromISO(n,e);if(t.isValid)return Ii.before(i,t)}}return Ii.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(t,e);let s;return s=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,s=s.startOf(t,e),Math.floor(s.diff(n,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&(this.s<=t&&this.e>t)}set({start:t,end:e}={}){return this.isValid?Ii.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(_o).filter((t=>this.contains(t))).sort(((t,e)=>t.toMillis()-e.toMillis())),n=[];let{s:s}=this,r=0;for(;s<this.e;){const t=e[r]||this.e,i=+t>+this.e?this.e:t;n.push(Ii.fromDateTimes(s,i)),s=i,r+=1}return n}splitBy(t){const e=Ai.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let n,{s:s}=this,r=1;const i=[];for(;s<this.e;){const t=this.start.plus(e.mapUnits((t=>t*r)));n=+t>+this.e?this.e:t,i.push(Ii.fromDateTimes(s,n)),s=n,r+=1}return i}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&(this.s<=t.s&&this.e>=t.e)}equals(t){return!(!this.isValid||!t.isValid)&&(this.s.equals(t.s)&&this.e.equals(t.e))}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return e>=n?null:Ii.fromDateTimes(e,n)}union(t){if(!this.isValid)return this;const e=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Ii.fromDateTimes(e,n)}static merge(t){const[e,n]=t.sort(((t,e)=>t.s-e.s)).reduce((([t,e],n)=>e?e.overlaps(n)||e.abutsStart(n)?[t,e.union(n)]:[t.concat([e]),n]:[t,n]),[[],null]);return n&&e.push(n),e}static xor(t){let e=null,n=0;const s=[],r=t.map((t=>[{time:t.s,type:"s"},{time:t.e,type:"e"}])),i=Array.prototype.concat(...r).sort(((t,e)=>t.time-e.time));for(const t of i)n+="s"===t.type?1:-1,1===n?e=t.time:(e&&+e!=+t.time&&s.push(Ii.fromDateTimes(e,t.time)),e=null);return Ii.merge(s)}difference(...t){return Ii.xor([this].concat(t)).map((t=>this.intersection(t))).filter((t=>t&&!t.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Ci}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Mn,e={}){return this.isValid?Cr.create(this.s.loc.clone(e),t).formatInterval(this):Ci}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Ci}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ci}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Ci}toFormat(t,{separator:e="  "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Ci}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Ai.invalid(this.invalidReason)}mapEndpoints(t){return Ii.fromDateTimes(t(this.s),t(this.e))}}class zi{static hasDST(t=Os.defaultZone){const e=xo.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Gn.isValidZone(t)}static normalizeZone(t){return ys(t,Os.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||hs.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||hs.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||hs.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||hs.create(e,n,r)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||hs.create(e,n,r)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null}={}){return(s||hs.create(e,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null}={}){return(s||hs.create(e,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return hs.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return hs.create(e,null,"gregory").eras(t)}static features(){return{relative:Bs(),localeWeek:Ys()}}}function Vi(t,e){const n=t=>t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(Ai.fromMillis(s).as("days"))}function Fi(t,e,n,s){let[r,i,o,a]=function(t,e,n){const s=[["years",(t,e)=>e.year-t.year],["quarters",(t,e)=>e.quarter-t.quarter+4*(e.year-t.year)],["months",(t,e)=>e.month-t.month+12*(e.year-t.year)],["weeks",(t,e)=>{const n=Vi(t,e);return(n-n%7)/7}],["days",Vi]],r={},i=t;let o,a;for(const[u,l]of s)n.indexOf(u)>=0&&(o=u,r[u]=l(t,e),a=i.plus(r),a>e?(r[u]--,(t=i.plus(r))>e&&(a=t,r[u]--,t=i.plus(r))):t=a);return[t,r,a,o]}(t,e,n);const u=e-r,l=n.filter((t=>["hours","minutes","seconds","milliseconds"].indexOf(t)>=0));0===l.length&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(i[a]=(i[a]||0)+u/(o-r)));const c=Ai.fromObject(i,s);return l.length>0?Ai.fromMillis(u,s).shiftTo(...l).plus(c):c}function Li(t,e=t=>t){return{regex:t,deser:([t])=>e(function(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(-1!==t[n].search(ps.hanidec))e+=ws.indexOf(t[n]);else for(const t in gs){const[n,r]=gs[t];s>=n&&s<=r&&(e+=s-n)}}return parseInt(e,10)}return e}(t))}}const Pi=`[ ${String.fromCharCode(160)}]`,Ui=new RegExp(Pi,"g");function Wi(t){return t.replace(/\./g,"\\.?").replace(Ui,Pi)}function Zi(t){return t.replace(/\./g,"").replace(Ui," ").toLowerCase()}function ji(t,e){return null===t?null:{regex:RegExp(t.map(Wi).join("|")),deser:([n])=>t.findIndex((t=>Zi(n)===Zi(t)))+e}}function Hi(t,e){return{regex:t,deser:([,t,e])=>fr(t,e),groups:e}}function qi(t){return{regex:t,deser:([t])=>t}}const Ri={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ji=null;function Bi(t,e){return Array.prototype.concat(...t.map((t=>function(t,e){if(t.literal)return t;const n=Qi(Cr.macroTokenToFormatOpts(t.val),e);return null==n||n.includes(void 0)?t:n}(t,e))))}class Yi{constructor(t,e){if(this.locale=t,this.format=e,this.tokens=Bi(Cr.parseFormat(e),t),this.units=this.tokens.map((e=>function(t,e){const n=Ss(e),s=Ss(e,"{2}"),r=Ss(e,"{3}"),i=Ss(e,"{4}"),o=Ss(e,"{6}"),a=Ss(e,"{1,2}"),u=Ss(e,"{1,3}"),l=Ss(e,"{1,6}"),c=Ss(e,"{1,9}"),h=Ss(e,"{2,4}"),d=Ss(e,"{4,6}"),f=t=>{return{regex:RegExp((e=t.val,e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([t])=>t,literal:!0};var e},m=(m=>{if(t.literal)return f(m);switch(m.val){case"G":return ji(e.eras("short"),0);case"GG":return ji(e.eras("long"),0);case"y":return Li(l);case"yy":case"kk":return Li(h,hr);case"yyyy":case"kkkk":return Li(i);case"yyyyy":return Li(d);case"yyyyyy":return Li(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Li(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Li(s);case"MMM":return ji(e.months("short",!0),1);case"MMMM":return ji(e.months("long",!0),1);case"LLL":return ji(e.months("short",!1),1);case"LLLL":return ji(e.months("long",!1),1);case"o":case"S":return Li(u);case"ooo":case"SSS":return Li(r);case"u":return qi(c);case"uu":return qi(a);case"uuu":case"E":case"c":return Li(n);case"a":return ji(e.meridiems(),0);case"EEE":return ji(e.weekdays("short",!1),1);case"EEEE":return ji(e.weekdays("long",!1),1);case"ccc":return ji(e.weekdays("short",!0),1);case"cccc":return ji(e.weekdays("long",!0),1);case"Z":case"ZZ":return Hi(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return Hi(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return qi(/[a-z_+-/]{1,256}?/i);case" ":return qi(/[^\S\n\r]/);default:return f(m)}})(t)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return m.token=t,m}(e,t))),this.disqualifyingUnit=this.units.find((t=>t.invalidReason)),!this.disqualifyingUnit){const[t,e]=function(t){const e=t.map((t=>t.regex)).reduce(((t,e)=>`${t}(${e.source})`),"");return[`^${e}$`,t]}(this.units);this.regex=RegExp(t,"i"),this.handlers=e}}explainFromTokens(t){if(this.isValid){const[e,n]=function(t,e,n){const s=t.match(e);if(s){const t={};let e=1;for(const r in n)if(Qs(n,r)){const i=n[r],o=i.groups?i.groups+1:1;!i.literal&&i.token&&(t[i.token.val[0]]=i.deser(s.slice(e,e+o))),e+=o}return[s,t]}return[s,{}]}(t,this.regex,this.handlers),[s,r,i]=n?function(t){let e,n=null;qs(t.z)||(n=Gn.create(t.z)),qs(t.Z)||(n||(n=new fs(t.Z)),e=t.Z),qs(t.q)||(t.M=3*(t.q-1)+1),qs(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),qs(t.u)||(t.S=sr(t.u));const s=Object.keys(t).reduce(((e,n)=>{const s=(t=>{switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return s&&(e[s]=t[n]),e}),{});return[s,n,e]}(n):[null,null,void 0];if(Qs(n,"a")&&Qs(n,"H"))throw new yn("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:e,matches:n,result:s,zone:r,specificOffset:i}}return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Gi(t,e,n){return new Yi(t,n).explainFromTokens(e)}function Qi(t,e){if(!t)return null;const n=Cr.create(e,t).dtFormatter((Ji||(Ji=xo.fromMillis(1555555555555)),Ji)),s=n.formatToParts(),r=n.resolvedOptions();return s.map((e=>function(t,e,n){const{type:s,value:r}=t;if("literal"===s){const t=/^\s+$/.test(r);return{literal:!t,val:t?" ":r}}const i=e[s];let o=s;"hour"===s&&(o=null!=e.hour12?e.hour12?"hour12":"hour24":null!=e.hourCycle?"h11"===e.hourCycle||"h12"===e.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let a=Ri[o];if("object"==typeof a&&(a=a[i]),a)return{literal:!1,val:a}}(e,t,r)))}const Ki="Invalid DateTime",Xi=864e13;function to(t){return new Es("unsupported zone",`the zone "${t.name}" is not supported`)}function eo(t){return null===t.weekData&&(t.weekData=Ls(t.c)),t.weekData}function no(t){return null===t.localWeekData&&(t.localWeekData=Ls(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function so(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xo({...n,...e,old:n})}function ro(t,e,n){let s=t-60*e*1e3;const r=n.offset(s);if(e===r)return[s,e];s-=60*(r-e)*1e3;const i=n.offset(s);return r===i?[s,r]:[t-60*Math.min(r,i)*1e3,Math.max(r,i)]}function io(t,e){const n=new Date(t+=60*e*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function oo(t,e,n){return ro(ur(t),e,n)}function ao(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),i={...t.c,year:s,month:r,day:Math.min(t.c.day,ar(s,r))+Math.trunc(e.days)+7*Math.trunc(e.weeks)},o=Ai.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=ur(i);let[u,l]=ro(a,n,t.zone);return 0!==o&&(u+=o,l=t.zone.offset(u)),{ts:u,o:l}}function uo(t,e,n,s,r,i){const{setZone:o,zone:a}=n;if(t&&0!==Object.keys(t).length||e){const s=e||a,r=xo.fromObject(t,{...n,zone:s,specificOffset:i});return o?r:r.setZone(a)}return xo.invalid(new Es("unparsable",`the input "${r}" can't be parsed as ${s}`))}function lo(t,e,n=!0){return t.isValid?Cr.create(hs.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function co(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=tr(t.c.year,n?6:4),e?(s+="-",s+=tr(t.c.month),s+="-",s+=tr(t.c.day)):(s+=tr(t.c.month),s+=tr(t.c.day)),s}function ho(t,e,n,s,r,i){let o=tr(t.c.hour);return e?(o+=":",o+=tr(t.c.minute),0===t.c.millisecond&&0===t.c.second&&n||(o+=":")):o+=tr(t.c.minute),0===t.c.millisecond&&0===t.c.second&&n||(o+=tr(t.c.second),0===t.c.millisecond&&s||(o+=".",o+=tr(t.c.millisecond,3))),r&&(t.isOffsetFixed&&0===t.offset&&!i?o+="Z":t.o<0?(o+="-",o+=tr(Math.trunc(-t.o/60)),o+=":",o+=tr(Math.trunc(-t.o%60))):(o+="+",o+=tr(Math.trunc(t.o/60)),o+=":",o+=tr(Math.trunc(t.o%60)))),i&&(o+="["+t.zone.ianaName+"]"),o}const fo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},mo={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},yo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},po=["year","month","day","hour","minute","second","millisecond"],go=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wo=["year","ordinal","hour","minute","second","millisecond"];function vo(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new pn(t);return e}(t)}}function So(t,e){const n=ys(e.zone,Os.defaultZone);if(!n.isValid)return xo.invalid(to(n));const s=hs.fromObject(e);let r,i;if(qs(t.year))r=Os.now();else{for(const e of po)qs(t[e])&&(t[e]=fo[e]);const e=js(t)||Hs(t);if(e)return xo.invalid(e);const s=function(t){if(void 0===$o&&($o=Os.now()),"iana"!==t.type)return t.offset($o);const e=t.name;let n=ko.get(e);return void 0===n&&(n=t.offset($o),ko.set(e,n)),n}(n);[r,i]=oo(t,s,n)}return new xo({ts:r,zone:n,loc:s,o:i})}function bo(t,e,n){const s=!!qs(n.round)||n.round,r=(t,r)=>{t=rr(t,s||n.calendary?0:2,!0);return e.loc.clone(n).relFormatter(n).format(t,r)},i=s=>n.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(n.unit)return r(i(n.unit),n.unit);for(const t of n.units){const e=i(t);if(Math.abs(e)>=1)return r(e,t)}return r(t>e?-0:0,n.units[n.units.length-1])}function Mo(t){let e,n={};return t.length>0&&"object"==typeof t[t.length-1]?(n=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[n,e]}let $o;const ko=new Map;class xo{constructor(t){const e=t.zone||Os.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Es("invalid input"):null)||(e.isValid?null:to(e));this.ts=qs(t.ts)?Os.now():t.ts;let s=null,r=null;if(!n){if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[s,r]=[t.old.c,t.old.o];else{const i=Rs(t.o)&&!t.old?t.o:e.offset(this.ts);s=io(this.ts,i),n=Number.isNaN(s.year)?new Es("invalid input"):null,s=n?null:s,r=n?null:i}}this._zone=e,this.loc=t.loc||hs.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new xo({})}static local(){const[t,e]=Mo(arguments),[n,s,r,i,o,a,u]=e;return So({year:n,month:s,day:r,hour:i,minute:o,second:a,millisecond:u},t)}static utc(){const[t,e]=Mo(arguments),[n,s,r,i,o,a,u]=e;return t.zone=fs.utcInstance,So({year:n,month:s,day:r,hour:i,minute:o,second:a,millisecond:u},t)}static fromJSDate(t,e={}){const n=function(t){return"[object Date]"===Object.prototype.toString.call(t)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return xo.invalid("invalid input");const s=ys(e.zone,Os.defaultZone);return s.isValid?new xo({ts:n,zone:s,loc:hs.fromObject(e)}):xo.invalid(to(s))}static fromMillis(t,e={}){if(Rs(t))return t<-Xi||t>Xi?xo.invalid("Timestamp out of range"):new xo({ts:t,zone:ys(e.zone,Os.defaultZone),loc:hs.fromObject(e)});throw new gn(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Rs(t))return new xo({ts:1e3*t,zone:ys(e.zone,Os.defaultZone),loc:hs.fromObject(e)});throw new gn("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const n=ys(e.zone,Os.defaultZone);if(!n.isValid)return xo.invalid(to(n));const s=hs.fromObject(e),r=yr(t,vo),{minDaysInFirstWeek:i,startOfWeek:o}=Zs(r,s),a=Os.now(),u=qs(e.specificOffset)?n.offset(a):e.specificOffset,l=!qs(r.ordinal),c=!qs(r.year),h=!qs(r.month)||!qs(r.day),d=c||h,f=r.weekYear||r.weekNumber;if((d||l)&&f)throw new yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&l)throw new yn("Can't mix ordinal dates with month/day");const m=f||r.weekday&&!d;let y,p,g=io(a,u);m?(y=go,p=mo,g=Ls(g,i,o)):l?(y=wo,p=yo,g=Us(g)):(y=po,p=fo);let w=!1;for(const t of y){qs(r[t])?r[t]=w?p[t]:g[t]:w=!0}const v=m?function(t,e=4,n=1){const s=Js(t.weekYear),r=Xs(t.weekNumber,1,cr(t.weekYear,e,n)),i=Xs(t.weekday,1,7);return s?r?!i&&Cs("weekday",t.weekday):Cs("week",t.weekNumber):Cs("weekYear",t.weekYear)}(r,i,o):l?function(t){const e=Js(t.year),n=Xs(t.ordinal,1,or(t.year));return e?!n&&Cs("ordinal",t.ordinal):Cs("year",t.year)}(r):js(r),S=v||Hs(r);if(S)return xo.invalid(S);const b=m?Ps(r,i,o):l?Ws(r):r,[M,$]=oo(b,u,n),k=new xo({ts:M,zone:n,o:$,loc:s});return r.weekday&&d&&t.weekday!==k.weekday?xo.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${k.toISO()}`):k.isValid?k:xo.invalid(k.invalid)}static fromISO(t,e={}){const[n,s]=function(t){return Fr(t,[li,fi],[ci,mi],[hi,yi],[di,pi])}(t);return uo(n,s,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[n,s]=function(t){return Fr(function(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t),[ni,si])}(t);return uo(n,s,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[n,s]=function(t){return Fr(t,[ri,ai],[ii,ai],[oi,ui])}(t);return uo(n,s,e,"HTTP",e)}static fromFormat(t,e,n={}){if(qs(t)||qs(e))throw new gn("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:r=null}=n,i=hs.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[o,a,u,l]=function(t,e,n){const{result:s,zone:r,specificOffset:i,invalidReason:o}=Gi(t,e,n);return[s,r,i,o]}(i,t,e);return l?xo.invalid(l):uo(o,a,n,`format ${e}`,t,u)}static fromString(t,e,n={}){return xo.fromFormat(t,e,n)}static fromSQL(t,e={}){const[n,s]=function(t){return Fr(t,[wi,fi],[vi,Si])}(t);return uo(n,s,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new gn("need to specify a reason the DateTime is invalid");const n=t instanceof Es?t:new Es(t,e);if(Os.throwOnInvalid)throw new dn(n);return new xo({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const n=Qi(t,hs.fromObject(e));return n?n.map((t=>t?t.val:null)).join(""):null}static expandFormat(t,e={}){return Bi(Cr.parseFormat(t),hs.fromObject(e)).map((t=>t.val)).join("")}static resetCache(){$o=void 0,ko.clear()}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?eo(this).weekYear:NaN}get weekNumber(){return this.isValid?eo(this).weekNumber:NaN}get weekday(){return this.isValid?eo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?no(this).weekday:NaN}get localWeekNumber(){return this.isValid?no(this).weekNumber:NaN}get localWeekYear(){return this.isValid?no(this).weekYear:NaN}get ordinal(){return this.isValid?Us(this.c).ordinal:NaN}get monthShort(){return this.isValid?zi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,n=ur(this.c),s=this.zone.offset(n-t),r=this.zone.offset(n+t),i=this.zone.offset(n-s*e),o=this.zone.offset(n-r*e);if(i===o)return[this];const a=n-i*e,u=n-o*e,l=io(a,i),c=io(u,o);return l.hour===c.hour&&l.minute===c.minute&&l.second===c.second&&l.millisecond===c.millisecond?[so(this,{ts:a}),so(this,{ts:u})]:[this]}get isInLeapYear(){return ir(this.year)}get daysInMonth(){return ar(this.year,this.month)}get daysInYear(){return this.isValid?or(this.year):NaN}get weeksInWeekYear(){return this.isValid?cr(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?cr(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:n,calendar:s}=Cr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:s}}toUTC(t=0,e={}){return this.setZone(fs.instance(t),e)}toLocal(){return this.setZone(Os.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((t=ys(t,Os.defaultZone)).equals(this.zone))return this;if(t.isValid){let s=this.ts;if(e||n){const e=t.offset(this.ts),n=this.toObject();[s]=oo(n,e,t)}return so(this,{ts:s,zone:t})}return xo.invalid(to(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:n}={}){return so(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:n})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=yr(t,vo),{minDaysInFirstWeek:n,startOfWeek:s}=Zs(e,this.loc),r=!qs(e.weekYear)||!qs(e.weekNumber)||!qs(e.weekday),i=!qs(e.ordinal),o=!qs(e.year),a=!qs(e.month)||!qs(e.day),u=o||a,l=e.weekYear||e.weekNumber;if((u||i)&&l)throw new yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new yn("Can't mix ordinal dates with month/day");let c;r?c=Ps({...Ls(this.c,n,s),...e},n,s):qs(e.ordinal)?(c={...this.toObject(),...e},qs(e.day)&&(c.day=Math.min(ar(c.year,c.month),c.day))):c=Ws({...Us(this.c),...e});const[h,d]=oo(c,this.o,this.zone);return so(this,{ts:h,o:d})}plus(t){if(!this.isValid)return this;return so(this,ao(this,Ai.fromDurationLike(t)))}minus(t){if(!this.isValid)return this;return so(this,ao(this,Ai.fromDurationLike(t).negate()))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},s=Ai.normalizeUnit(t);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===s)if(e){const t=this.loc.getStartOfWeek(),{weekday:e}=this;e<t&&(n.weekNumber=this.weekNumber-1),n.weekday=t}else n.weekday=1;if("quarters"===s){const t=Math.ceil(this.month/3);n.month=3*(t-1)+1}return this.set(n)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Cr.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Ki}toLocaleString(t=Mn,e={}){return this.isValid?Cr.create(this.loc.clone(e),t).formatDateTime(this):Ki}toLocaleParts(t={}){return this.isValid?Cr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const i="extended"===t;let o=co(this,i);return o+="T",o+=ho(this,i,e,n,s,r),o}toISODate({format:t="extended"}={}){return this.isValid?co(this,"extended"===t):null}toISOWeekDate(){return lo(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:r=!1,format:i="extended"}={}){if(!this.isValid)return null;return(s?"T":"")+ho(this,"extended"===i,e,t,n,r)}toRFC2822(){return lo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return lo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?co(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(e||t)&&(n&&(s+=" "),e?s+="z":t&&(s+="ZZ")),lo(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ki}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",n={}){if(!this.isValid||!t.isValid)return Ai.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},r=(a=e,Array.isArray(a)?a:[a]).map(Ai.normalizeUnit),i=t.valueOf()>this.valueOf(),o=Fi(i?this:t,i?t:this,r,s);var a;return i?o.negate():o}diffNow(t="milliseconds",e={}){return this.diff(xo.now(),t,e)}until(t){return this.isValid?Ii.fromDateTimes(this,t):this}hasSame(t,e,n){if(!this.isValid)return!1;const s=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e,n)<=s&&s<=r.endOf(e,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||xo.fromObject({},{zone:this.zone}),n=t.padding?this<e?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(s=t.unit,r=void 0),bo(e,this.plus(n),{...t,numeric:"always",units:s,unit:r})}toRelativeCalendar(t={}){return this.isValid?bo(t.base||xo.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(xo.isDateTime))throw new gn("min requires all arguments be DateTimes");return Gs(t,(t=>t.valueOf()),Math.min)}static max(...t){if(!t.every(xo.isDateTime))throw new gn("max requires all arguments be DateTimes");return Gs(t,(t=>t.valueOf()),Math.max)}static fromFormatExplain(t,e,n={}){const{locale:s=null,numberingSystem:r=null}=n;return Gi(hs.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,n={}){return xo.fromFormatExplain(t,e,n)}static buildFormatParser(t,e={}){const{locale:n=null,numberingSystem:s=null}=e,r=hs.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new Yi(r,t)}static fromFormatParser(t,e,n={}){if(qs(t)||qs(e))throw new gn("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:r=null}=n,i=hs.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});if(!i.equals(e.locale))throw new gn(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${e.locale}`);const{result:o,zone:a,specificOffset:u,invalidReason:l}=e.explainFromTokens(t);return l?xo.invalid(l):uo(o,a,n,`format ${e.format}`,t,u)}static get DATE_SHORT(){return Mn}static get DATE_MED(){return $n}static get DATE_MED_WITH_WEEKDAY(){return kn}static get DATE_FULL(){return xn}static get DATE_HUGE(){return _n}static get TIME_SIMPLE(){return Tn}static get TIME_WITH_SECONDS(){return Nn}static get TIME_WITH_SHORT_OFFSET(){return On}static get TIME_WITH_LONG_OFFSET(){return En}static get TIME_24_SIMPLE(){return Dn}static get TIME_24_WITH_SECONDS(){return An}static get TIME_24_WITH_SHORT_OFFSET(){return Cn}static get TIME_24_WITH_LONG_OFFSET(){return In}static get DATETIME_SHORT(){return zn}static get DATETIME_SHORT_WITH_SECONDS(){return Vn}static get DATETIME_MED(){return Fn}static get DATETIME_MED_WITH_SECONDS(){return Ln}static get DATETIME_MED_WITH_WEEKDAY(){return Pn}static get DATETIME_FULL(){return Un}static get DATETIME_FULL_WITH_SECONDS(){return Wn}static get DATETIME_HUGE(){return Zn}static get DATETIME_HUGE_WITH_SECONDS(){return jn}}function _o(t){if(xo.isDateTime(t))return t;if(t&&t.valueOf&&Rs(t.valueOf()))return xo.fromJSDate(t);if(t&&"object"==typeof t)return xo.fromObject(t);throw new gn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var To,No;!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(To||(To={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(No||(No={}));var Oo=function(t,e,n,s){s=s||{},n=null==n?{}:n;var r=new Event(e,{bubbles:void 0===s.bubbles||s.bubbles,cancelable:Boolean(s.cancelable),composed:void 0===s.composed||s.composed});return r.detail=n,t.dispatchEvent(r),r};let Eo=class extends ot{setConfig(t){this._config=t}render(){return this.hass&&this._config?(void 0===this._config.showSun&&(this._config.showSun=!0),void 0===this._config.showBelowHorizon&&(this._config.showBelowHorizon=!1),Z`
      <div class="config-row">
          <label>Latitude (optional):</label>
          <input
            type="number"
            .value=${this._config.lat||""}
            .placeholder=${this.hass.config.latitude}
            @input=${t=>{const e=t.target;this._config.lat=e.value?parseFloat(e.value):void 0,Oo(this,"config-changed",{config:this._config})}}
          />
        </div>

        <div class="config-row">
          <label>Longitude (optional):</label>
          <input
            type="number"
            .value=${this._config.lon||""}
            .placeholder=${this.hass.config.longitude}
            @input=${t=>{const e=t.target;this._config.lon=e.value?parseFloat(e.value):void 0,Oo(this,"config-changed",{config:this._config})}}
          />
        </div>

        <div class="config-row">
          <label>Elevation (meters, optional):</label>
          <input
            type="number"
            .value=${this._config.elev||0}
            @input=${t=>{const e=t.target;this._config.elev=e.value?parseFloat(e.value):0,Oo(this,"config-changed",{config:this._config})}}
          />
        </div>
      </div>

      <div class="card-config">
        <div class="config-row">
          <label>Show Sun:</label>
          <div class="radio-group">
            <label class="radio-option">
              <input
                type="radio"
                name="showSun"
                .checked=${this._config.showSun}
                @change=${()=>{this._config.showSun=!0,Oo(this,"config-changed",{config:this._config})}}
              />
              Yes
            </label>
            <label class="radio-option">
              <input
                type="radio"
                name="showSun"
                .checked=${!this._config.showSun}
                @change=${()=>{this._config.showSun=!1,Oo(this,"config-changed",{config:this._config})}}
              />
              No
            </label>
          </div>
        </div>

        <div class="config-row">
          <label>Show objects below horizon:</label>
          <div class="radio-group">
            <label class="radio-option">
              <input
                type="radio"
                name="showBelowHorizon"
                .checked=${this._config.showBelowHorizon}
                @change=${()=>{this._config.showBelowHorizon=!0,Oo(this,"config-changed",{config:this._config})}}
              />
              Yes
            </label>
            <label class="radio-option">
              <input
                type="radio"
                name="showBelowHorizon"
                .checked=${!this._config.showBelowHorizon}
                @change=${()=>{this._config.showBelowHorizon=!1,Oo(this,"config-changed",{config:this._config})}}
              />
              No
            </label>
          </div>
        </div>
    `):Z``}};Eo.styles=o`
    .card-config {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .config-row {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .radio-group {
      display: flex;
      gap: 16px;
    }
    .radio-option {
      display: flex;
      align-items: center;
      gap: 4px;
    }
  `,t([ht({attribute:!1})],Eo.prototype,"hass",void 0),t([function(t){return ht({...t,state:!0,attribute:!1})}()],Eo.prototype,"_config",void 0),Eo=t([ut("sky-tonight-card-editor")],Eo);const Do=[{body:Vt.Sun,name:"Sun",type:"Star",isNakedEye:!0,isBinocular:!0},{body:Vt.Moon,name:"Moon",type:"Moon",isNakedEye:!0,isBinocular:!0},{body:Vt.Mercury,name:"Mercury",type:"Planet",isNakedEye:!0,isBinocular:!0},{body:Vt.Venus,name:"Venus",type:"Planet",isNakedEye:!0,isBinocular:!0},{body:Vt.Mars,name:"Mars",type:"Planet",isNakedEye:!0,isBinocular:!0},{body:Vt.Jupiter,name:"Jupiter",type:"Planet",isNakedEye:!0,isBinocular:!0},{body:Vt.Saturn,name:"Saturn",type:"Planet",isNakedEye:!0,isBinocular:!0},{body:Vt.Uranus,name:"Uranus",type:"Planet",isNakedEye:!1,isBinocular:!0},{body:Vt.Neptune,name:"Neptune",type:"Planet",isNakedEye:!1,isBinocular:!0}];let Ao=class extends ot{constructor(){super(...arguments),this.config={showSun:!0,showBelowHorizon:!1}}setConfig(t){this.config=t}static getConfigElement(){return document.createElement("sky-tonight-card-editor")}render(){if(!this.hass||!this.config)return Z``;const t=this.config.lat||this.hass.config.latitude,e=this.config.lon||this.hass.config.longitude,n=this.config.elev||0,s=!1!==this.config.showSun,r=!0===this.config.showBelowHorizon,i=xo.local(),o=new me(t,e,n),a=Do.filter((t=>s||t.body!==Vt.Sun)).map((s=>{const{rise:r,set:a}=this.getRiseSet(o,s.body,i);if(!r||!a)return null;const u=this.getAltitude(s.body,i.toJSDate(),t,e,n);return{...s,rise:r,set:a,riseStr:r.toFormat("MMM dd HH:mm"),setStr:a.toFormat("MMM dd HH:mm"),duration:this.calculateDuration(r,a),altitude:u}})).filter((t=>!!t&&!(!r&&t.altitude<0))).sort(((t,e)=>t.rise.toMillis()-e.rise.toMillis())),u=this.getMoonPhase(i.toJSDate()),l=new URL(".",import.meta.url).href;return Z`
      <ha-card>
        <h2>Sky Tonight</h2>
        <div>
          <div><strong>Latitude:</strong> ${t.toFixed(2)}</div>
          <div><strong>Longitude:</strong> ${e.toFixed(2)}</div>
          <div><strong>Elevation:</strong> ${n}m</div>
        </div>
        <div class="moon-phase">
          Moon Phase:
          <img
            src="${l}images/moon-phases/${this.toKebabCase(u)}.png"
            alt="${u}"
          />
          ${u}
        </div>
        <div class="astro-list">
          ${a.map((t=>Z`
              <div class="astro-card">
                <img
                  src="${l}images/objects/${t.name}.png"
                  alt="${t.name}"
                />
                <div class="astro-info">
                  <div class="astro-type">${t.type}</div>
                  <div class="astro-name">${t.name}</div>
                  <div class="astro-data">
                    Visible: ${t.riseStr} - ${t.setStr}
                  </div>
                  <div class="astro-data">Duration: ${t.duration}</div>
                  <div class="astro-data">
                    Altitude: ${t.altitude.toFixed(1)}
                  </div>
                </div>
                <div class="astro-icons">
                  <div>
                    <img
                      src="${l}images/${t.altitude>0&&t.isNakedEye?"eye.png":"eye_disabled.png"}"
                      alt="Naked Eye"
                    />
                  </div>
                  <div>
                    <img
                      src="${l}images/${t.altitude>0&&t.isBinocular?"binoculars.png":"binoculars_disabled.png"}"
                      alt="Binocular"
                    />
                  </div>
                  <div>
                    <img
                      src="${l}images/${t.altitude>0?"telescope.png":"telescope_disabled.png"}"
                      alt="Telescope"
                    />
                  </div>
                </div>
              </div>
            `))}
        </div>
      </ha-card>
    `}getAltitude(t,e,n,s,r){const i=new me(n,s,r),o=ye(t,e,i,!0,!0);return de(e,i,o.ra,o.dec,"normal").altitude}getRiseSet(t,e,n){const s=Intl.DateTimeFormat().resolvedOptions().timeZone,r=n.toJSDate();let i=null,o=null;try{const n=rn(e,t,-1,r,300);if(!n)return{rise:null,set:null};const a=n.date;if(o=xo.fromJSDate(a).setZone(s),a>r){const n=rn(e,t,1,new Date(a.getTime()-1296e5),300);if(n&&n.date<a){if((a.getTime()-n.date.getTime())/36e5<=24)return i=xo.fromJSDate(n.date).setZone(s),{rise:i,set:o}}const u=rn(e,t,1,r,300);if(u&&u.date<a)return i=xo.fromJSDate(u.date).setZone(s),{rise:i,set:o}}const u=rn(e,t,1,r,300);if(!u)return{rise:null,set:null};i=xo.fromJSDate(u.date).setZone(s);const l=rn(e,t,-1,u.date,300);return l&&(o=xo.fromJSDate(l.date).setZone(s)),{rise:i,set:o}}catch(t){return console.error(`[${Vt[e]}] Error during rise/set calculation:`,t),{rise:null,set:null}}}calculateDuration(t,e){if(!t||!e)return"-";const n=e.diff(t,["hours","minutes"]).toObject();return`${Math.floor(n.hours||0)}h ${Math.round(n.minutes||0)}m`}getMoonPhase(t){const e=nn(t);return 0===e?"New Moon":90===e?"First Quarter":180===e?"Full Moon":270===e?"Last Quarter":e>0&&e<90?"Waxing Crescent":e>90&&e<180?"Waxing Gibbous":e>180&&e<270?"Waning Gibbous":e>270&&e<360?"Waning Crescent":"New Moon"}toKebabCase(t){return t.toLowerCase().replace(/\s+/g,"-").trim()}getCardSize(){return 4}};Ao.styles=o`
    ha-card {
      padding: 16px;
      background-color: #1b2431;
      color: #ffffff;
      font-family: "Segoe UI", sans-serif;
      border-radius: 12px;
    }

    h2 {
      margin: 0 0 10px;
      font-size: 1.4rem;
    }

    .summary,
    .moon-phase {
      margin: 8px 0;
      font-size: 0.95rem;
      color: #ddd;
    }

    .astro-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 12px;
    }

    .astro-card {
      display: flex;
      align-items: center;
      background-color: #223044;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .astro-card img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 12px;
    }

    .astro-info {
      flex: 1;
    }

    .astro-type {
      font-size: 0.75rem;
      color: #aaa;
    }

    .astro-name {
      font-weight: 600;
      font-size: 1.1rem;
      margin: 2px 0;
    }

    .astro-data {
      font-size: 0.85rem;
      color: #ccc;
    }

    .astro-icons {
      font-size: 1.2rem;
    }

    .astro-icons span {
      margin-left: 8px;
    }

    .moon-phase img {
      vertical-align: middle;
      height: 20px;
      margin-left: 6px;
    }

    .astro-icons img {
      width: 20px;
      height: 20px;
    }
  `,t([ht({attribute:!1})],Ao.prototype,"hass",void 0),t([ht({type:Object})],Ao.prototype,"config",void 0),Ao=t([ut("sky-tonight-card")],Ao),window.customCards=window.customCards||[],window.customCards.push({type:"sky-tonight-card",name:"Sky Tonight Native Card",preview:!1,description:"A Home Assistant card showing sun, moon, and planet visibility using Astronomy Engine"});export{Ao as SkyTonightNativeCard};
